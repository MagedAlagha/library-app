"use strict";var pse=Object.defineProperty,gse=Object.defineProperties,mse=Object.getOwnPropertyDescriptors,jU=Object.getOwnPropertySymbols,yse=Object.prototype.hasOwnProperty,_se=Object.prototype.propertyIsEnumerable,$U=(ie,lt,zt)=>lt in ie?pse(ie,lt,{enumerable:!0,configurable:!0,writable:!0,value:zt}):ie[lt]=zt,HU=(ie,lt)=>{for(var zt in lt||(lt={}))yse.call(lt,zt)&&$U(ie,zt,lt[zt]);if(jU)for(var zt of jU(lt))_se.call(lt,zt)&&$U(ie,zt,lt[zt]);return ie},GU=(ie,lt)=>gse(ie,mse(lt));(self.webpackChunklibrary=self.webpackChunklibrary||[]).push([[179],{923:()=>{function ie(t){return"function"==typeof t}function lt(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zt=lt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class yn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ie(r))try{r()}catch(s){e=s instanceof zt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{GC(s)}catch(o){e=null!=e?e:[],o instanceof zt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)GC(e);else{if(e instanceof yn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){const{_finalizers:n}=this;n&&no(n,e),e instanceof yn&&e._removeParent(this)}}yn.EMPTY=(()=>{const t=new yn;return t.closed=!0,t})();const $C=yn.EMPTY;function HC(t){return t instanceof yn||t&&"closed"in t&&ie(t.remove)&&ie(t.add)&&ie(t.unsubscribe)}function GC(t){ie(t)?t():t.unsubscribe()}const Gi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yc={setTimeout(t,e,...n){const{delegate:r}=yc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=yc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function qC(t){yc.setTimeout(()=>{const{onUnhandledError:e}=Gi;if(!e)throw t;e(t)})}function WC(){}const qU=fp("C",void 0,void 0);function fp(t,e,n){return{kind:t,value:e,error:n}}let qi=null;function _c(t){if(Gi.useDeprecatedSynchronousErrorHandling){const e=!qi;if(e&&(qi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=qi;if(qi=null,n)throw r}}else t()}class pp extends yn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,HC(e)&&e.add(this)):this.destination=XU}static create(e,n,r){return new vc(e,n,r)}next(e){this.isStopped?mp(function zU(t){return fp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?mp(function WU(t){return fp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mp(qU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const QU=Function.prototype.bind;function gp(t,e){return QU.call(t,e)}class YU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){wc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){wc(r)}else wc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wc(n)}}}class vc extends pp{constructor(e,n,r){let i;if(super(),ie(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&Gi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gp(e.next,s),error:e.error&&gp(e.error,s),complete:e.complete&&gp(e.complete,s)}):i=e}this.destination=new YU(i)}}function wc(t){Gi.useDeprecatedSynchronousErrorHandling?function KU(t){Gi.useDeprecatedSynchronousErrorHandling&&qi&&(qi.errorThrown=!0,qi.error=t)}(t):qC(t)}function mp(t,e){const{onStoppedNotification:n}=Gi;n&&yc.setTimeout(()=>n(t,e))}const XU={closed:!0,next:WC,error:function JU(t){throw t},complete:WC},yp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wi(t){return t}let Ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function e2(t){return t&&t instanceof pp||function ZU(t){return t&&ie(t.next)&&ie(t.error)&&ie(t.complete)}(t)&&HC(t)}(n)?n:new vc(n,r,i);return _c(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=KC(r))((i,s)=>{const o=new vc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[yp](){return this}pipe(...n){return function zC(t){return 0===t.length?Wi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=KC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function KC(t){var e;return null!==(e=null!=t?t:Gi.Promise)&&void 0!==e?e:Promise}const t2=lt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pr=(()=>{class t extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new QC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new t2}next(n){_c(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_c(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_c(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?$C:(this.currentObservers=null,s.push(n),new yn(()=>{this.currentObservers=null,no(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ne;return n.source=this,n}}return t.create=(e,n)=>new QC(e,n),t})();class QC extends Pr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:$C}}function YC(t){return ie(null==t?void 0:t.lift)}function bt(t){return e=>{if(YC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,e,n,r,i){return new n2(t,e,n,r,i)}class n2 extends pp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(t,e){return bt((n,r)=>{let i=0;n.subscribe(ct(r,s=>{r.next(t.call(e,s,i++))}))})}function XC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function zi(t){return this instanceof zi?(this.v=t,this):new zi(t)}function s2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof zi?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function o2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function eT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const tT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function nT(t){return ie(null==t?void 0:t.then)}function rT(t){return ie(t[yp])}function iT(t){return Symbol.asyncIterator&&ie(null==t?void 0:t[Symbol.asyncIterator])}function sT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oT=function u2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aT(t){return ie(null==t?void 0:t[oT])}function uT(t){return s2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield zi(n.read());if(i)return yield zi(void 0);yield yield zi(r)}}finally{n.releaseLock()}})}function lT(t){return ie(null==t?void 0:t.getReader)}function dr(t){if(t instanceof Ne)return t;if(null!=t){if(rT(t))return function l2(t){return new Ne(e=>{const n=t[yp]();if(ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(tT(t))return function c2(t){return new Ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(nT(t))return function d2(t){return new Ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qC)})}(t);if(iT(t))return cT(t);if(aT(t))return function h2(t){return new Ne(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(lT(t))return function f2(t){return cT(uT(t))}(t)}throw sT(t)}function cT(t){return new Ne(e=>{(function p2(t,e){var n,r,i,s;return function r2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=o2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function dt(t,e,n=1/0){return ie(e)?dt((r,i)=>me((s,o)=>e(r,s,i,o))(dr(t(r,i))),n):("number"==typeof e&&(n=e),bt((r,i)=>function g2(t,e,n,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let _=!1;dr(n(g,c++)).subscribe(ct(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;u.length&&l<r;){const E=u.shift();o?Or(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(ct(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Ha(t=1/0){return dt(Wi,t)}const Fr=new Ne(t=>t.complete());function vp(t){return t[t.length-1]}function dT(t){return ie(vp(t))?t.pop():void 0}function Ga(t){return function y2(t){return t&&ie(t.schedule)}(vp(t))?t.pop():void 0}function Ec(t,e=0){return bt((n,r)=>{n.subscribe(ct(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function Ic(t,e=0){return bt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ne(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ht(t,e){return e?function D2(t,e){if(null!=t){if(rT(t))return function v2(t,e){return dr(t).pipe(Ic(e),Ec(e))}(t,e);if(tT(t))return function E2(t,e){return new Ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(nT(t))return function w2(t,e){return dr(t).pipe(Ic(e),Ec(e))}(t,e);if(iT(t))return hT(t,e);if(aT(t))return function I2(t,e){return new Ne(n=>{let r;return Or(n,e,()=>{r=t[oT](),Or(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ie(null==r?void 0:r.return)&&r.return()})}(t,e);if(lT(t))return function b2(t,e){return hT(uT(t),e)}(t,e)}throw sT(t)}(t,e):dr(t)}function bc(t){return t<=0?()=>Fr:bt((e,n)=>{let r=0;e.subscribe(ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(bc(1)).subscribe(()=>t())}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function Ep(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ip(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const A2=_e({__forward_ref__:_e});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return fe(this())},t}function Q(t){return fT(t)?t():t}function fT(t){return"function"==typeof t&&t.hasOwnProperty(A2)&&t.__forward_ref__===Ie}class oe extends Error{constructor(e,n){super(function bp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function Dt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function Dc(t,e){const n=e?` in ${e}`:"";throw new oe(-201,`No provider for ${Dt(t)} found${n}`)}function vn(t,e){null==t&&function ve(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dp(t){return pT(t,Cc)||pT(t,mT)}function pT(t,e){return t.hasOwnProperty(e)?t[e]:null}function gT(t){return t&&(t.hasOwnProperty(Cp)||t.hasOwnProperty(P2))?t[Cp]:null}const Cc=_e({\u0275prov:_e}),Cp=_e({\u0275inj:_e}),mT=_e({ngInjectableDef:_e}),P2=_e({ngInjectorDef:_e});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let Tp;function di(t){const e=Tp;return Tp=t,e}function yT(t,e,n){const r=Dp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void Dc(fe(t),"Injector")}function hi(t){return{toString:t}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),hr=(()=>{return(t=hr||(hr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",hr;var t})();const F2="undefined"!=typeof globalThis&&globalThis,L2="undefined"!=typeof window&&window,V2="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ye=F2||"undefined"!=typeof global&&global||L2||V2,ro={},we=[],Tc=_e({\u0275cmp:_e}),Ap=_e({\u0275dir:_e}),Sp=_e({\u0275pipe:_e}),_T=_e({\u0275mod:_e}),Vr=_e({\u0275fac:_e}),qa=_e({__NG_ELEMENT_ID__:_e});let U2=0;function Ki(t){return hi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,id:"c",styles:t.styles||we,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=U2++,r.inputs=IT(t.inputs,n),r.outputs=IT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(vT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(wT):null,r})}function vT(t){return Ft(t)||function fi(t){return t[Ap]||null}(t)}function wT(t){return function Qi(t){return t[Sp]||null}(t)}const ET={};function wn(t){return hi(()=>{const e={type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ET[t.id]=t.type),e})}function IT(t,e){if(null==t)return ro;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const B=Ki;function Ft(t){return t[Tc]||null}function Rn(t,e){const n=t[_T]||null;if(!n&&!0===e)throw new Error(`Type ${fe(t)} does not have '\u0275mod' property.`);return n}const Y=11;function fr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function kp(t){return 0!=(8&t.flags)}function Mc(t){return 2==(2&t.flags)}function kc(t){return 1==(1&t.flags)}function Jn(t){return null!==t.template}function q2(t){return 0!=(512&t[2])}function Zi(t,e){return t.hasOwnProperty(Vr)?t[Vr]:null}class K2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return DT}function DT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Y2),Q2}function Q2(){const t=TT(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ro)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Y2(t,e,n,r){const i=TT(t)||function J2(t,e){return t[CT]=e}(t,{previous:ro,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new K2(u&&u.currentValue,e,o===ro),t[r]=e}On.ngInherit=!0;const CT="__ngSimpleChanges__";function TT(t){return t[CT]||null}let Fp;function Pe(t){return!!t.listen}const AT={createRenderer:(t,e)=>function Lp(){return void 0!==Fp?Fp:"undefined"!=typeof document?document:void 0}()};function Ge(t){for(;Array.isArray(t);)t=t[0];return t}function Nc(t,e){return Ge(e[t])}function Ln(t,e){return Ge(e[t.index])}function Vp(t,e){return t.data[e]}function In(t,e){const n=e[t];return fr(n)?n:n[0]}function ST(t){return 4==(4&t[2])}function Up(t){return 128==(128&t[2])}function pi(t,e){return null==e?null:t[e]}function xT(t){t[18]=0}function Bp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const q={lFrame:UT(null),bindingsEnabled:!0};function kT(){return q.bindingsEnabled}function I(){return q.lFrame.lView}function ae(){return q.lFrame.tView}function et(){let t=RT();for(;null!==t&&64===t.type;)t=t.parent;return t}function RT(){return q.lFrame.currentTNode}function pr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function jp(){return q.lFrame.isParent}function lo(){return q.lFrame.bindingIndex++}function pB(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hp(e)}function Hp(t){q.lFrame.currentDirectiveIndex=t}function FT(){return q.lFrame.currentQueryIndex}function qp(t){q.lFrame.currentQueryIndex=t}function mB(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function LT(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=mB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=VT();return r.currentTNode=e,r.lView=t,!0}function Pc(t){const e=VT(),n=t[1];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function VT(){const t=q.lFrame,e=null===t?null:t.child;return null===e?UT(t):e}function UT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function BT(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const jT=BT;function Oc(){const t=BT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qt(){return q.lFrame.selectedIndex}function gi(t){q.lFrame.selectedIndex=t}function Oe(){const t=q.lFrame;return Vp(t.tView,t.selectedIndex)}function Fc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Lc(t,e,n){$T(t,e,3,n)}function Vc(t,e,n,r){(3&t[2])===n&&$T(t,e,n,r)}function Wp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function $T(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(CB(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function CB(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ya{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Uc(t,e,n){const r=Pe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Kp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function HT(t){return 3===t||4===t||6===t}function Kp(t){return 64===t.charCodeAt(0)}function Bc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||GT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function GT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function qT(t){return-1!==t}function co(t){return 32767&t}function ho(t,e){let n=function MB(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Qp=!0;function jc(t){const e=Qp;return Qp=t,e}let kB=0;function Xa(t,e){const n=Jp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Yp(r.data,t),Yp(e,null),Yp(r.blueprint,null));const i=$c(t,e),s=t.injectorIndex;if(qT(i)){const o=co(i),a=ho(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Yp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Jp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $c(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Hc(t,e,n){!function NB(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qa)&&(r=n[qa]),null==r&&(r=n[qa]=kB++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function KT(t,e,n){if(n&$.Optional)return t;Dc(e,"NodeInjector")}function QT(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=di(void 0);try{return i?i.get(e,r,n&$.Optional):yT(e,r,n&$.Optional)}finally{di(s)}}return KT(r,e,n)}function YT(t,e,n,r=$.Default,i){if(null!==t){const s=function FB(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(qa)?t[qa]:void 0;return"number"==typeof e?e>=0?255&e:PB:e}(n);if("function"==typeof s){if(!LT(e,t,r))return r&$.Host?KT(i,n,r):QT(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;Dc(n)}finally{jT()}}else if("number"==typeof s){let o=null,a=Jp(t,e),u=-1,l=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?$c(t,e):e[a+8],-1!==u&&ZT(r,!1)?(o=e[1],a=co(u),e=ho(u,e)):a=-1);-1!==a;){const c=e[1];if(XT(s,a,c.data)){const d=OB(a,e,n,o,r,l);if(d!==JT)return d}u=e[a+8],-1!==u&&ZT(r,e[1].data[a+8]===l)&&XT(s,a,e)?(o=c,a=co(u),e=ho(u,e)):a=-1}}}return QT(e,n,r,i)}const JT={};function PB(){return new fo(et(),I())}function OB(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=Gc(a,o,n,null==r?Mc(a)&&Qp:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==c?Za(e,o,c,a):JT}function Gc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Jn(f)&&f.type===n)return u}return null}function Za(t,e,n,r){let i=t[n];const s=e.data;if(function TB(t){return t instanceof Ya}(i)){const o=i;o.resolving&&function S2(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new oe(-200,`Circular dependency in DI detected for ${t}${n}`)}(Dt(s[n]));const a=jc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?di(o.injectImpl):null;LT(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function DB(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=DT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&di(u),jc(a),o.resolving=!1,jT()}}return i}function XT(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ZT(t,e){return!(t&$.Self||t&$.Host&&e)}class fo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return YT(this._tNode,this._lView,e,r,n)}}function Vt(t){return hi(()=>{const e=t.prototype.constructor,n=e[Vr]||Xp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Vr]||Xp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xp(t){return fT(t)?()=>{const e=Xp(Q(t));return e&&e()}:Zi(t)}function eu(t){return function RB(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(HT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(et(),t)}const go="__parameters__";function yo(t,e,n){return hi(()=>{const r=function Zp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(go)?u[go]:Object.defineProperty(u,go,{value:[]})[go];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const VB=new z("AnalyzeForEntryComponents");function Vn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Vn(r,e)):e!==t&&e.push(r)}return e}function gr(t,e){t.forEach(n=>Array.isArray(n)?gr(n,e):e(n))}function t0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e,n){let r=_o(t,e);return r>=0?t[1|r]=n:(r=~r,function jB(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tg(t,e){const n=_o(t,e);if(n>=0)return t[1|n]}function _o(t,e){return function s0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const iu={},rg="__NG_DI_FLAG__",zc="ngTempTokenPath",KB=/\n/gm,a0="__source",YB=_e({provide:String,useValue:_e});let su;function u0(t){const e=su;return su=t,e}function JB(t,e=$.Default){if(void 0===su)throw new oe(203,"");return null===su?yT(t,void 0,e):su.get(t,e&$.Optional?null:void 0,e)}function F(t,e=$.Default){return(function O2(){return Tp}()||JB)(Q(t),e)}const XB=F;function ig(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new oe(900,"");let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=ZB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function ou(t,e){return t[rg]=e,t.prototype[rg]=e,t}function ZB(t){return t[rg]}const Kc=ou(yo("Inject",t=>({token:t})),-1),pt=ou(yo("Optional"),8),au=ou(yo("SkipSelf"),4);class y0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yi(t){return t instanceof y0?t.changingThisBreaksApplicationSecurity:t}const Ej=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ij=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function hg(t){const e=function du(){const t=I();return t&&t[12]}();return e?e.sanitize(qe.URL,t)||"":function lu(t,e){const n=function yj(t){return t instanceof y0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?yi(t):function Xc(t){return(t=String(t)).match(Ej)||t.match(Ij)?t:"unsafe:"+t}(G(t))}const A0="__ngContext__";function Ut(t,e){t[A0]=e}function pg(t){const e=function hu(t){return t[A0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function mg(t){return t.ngOriginalError}function qj(t,...e){t.error(...e)}class fu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function Gj(t){return t&&t.ngErrorLogger||qj}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&mg(e);for(;n&&mg(n);)n=mg(n);return n||null}}const t$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ye))();function yr(t){return t instanceof Function?t():t}var Dn=(()=>((Dn=Dn||{})[Dn.Important=1]="Important",Dn[Dn.DashCase=2]="DashCase",Dn))();function _g(t,e){return undefined(t,e)}function pu(t){const e=t[3];return Yn(e)?e[3]:e}function vg(t){return F0(t[13])}function wg(t){return F0(t[4])}function F0(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function Io(t,e,n,r,i){if(null!=r){let s,o=!1;Yn(r)?s=r:fr(r)&&(o=!0,r=r[0]);const a=Ge(r);0===t&&null!==n?null==i?$0(e,n,a):es(e,n,a,i||null,!0):1===t&&null!==n?es(e,n,a,i||null,!0):2===t?function Q0(t,e,n){const r=ed(t,e);r&&function g$(t,e,n,r){Pe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function _$(t,e,n,r,i){const s=n[7];s!==Ge(n)&&Io(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];gu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Ig(t,e,n){if(Pe(t))return t.createElement(e,n);{const r=null!==n?function tB(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function V0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bp(i,-1)),n.splice(r,1)}function bg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&V0(i,r),e>0&&(t[n-1][4]=r[4]);const s=qc(t,10+e);!function a$(t,e){gu(t,e,e[Y],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function U0(t,e){if(!(256&e[2])){const n=e[Y];Pe(n)&&n.destroyNode&&gu(t,e,n,3,null,null),function c$(t){let e=t[13];if(!e)return Dg(t[1],t);for(;e;){let n=null;if(fr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)fr(e)&&Dg(e[1],e),e=e[3];null===e&&(e=t),fr(e)&&Dg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function p$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ya)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function f$(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ge(e[o]),u=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Pe(e[Y])&&e[Y].destroy();const n=e[17];if(null!==n&&Yn(e[3])){n!==e[3]&&V0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function B0(t,e,n){return function j0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===hr.None||i===hr.Emulated)return null}return Ln(r,n)}(t,e.parent,n)}function es(t,e,n,r,i){Pe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $0(t,e,n){Pe(t)?t.appendChild(e,n):e.appendChild(n)}function H0(t,e,n,r,i){null!==r?es(t,e,n,r,i):$0(t,e,n)}function ed(t,e){return Pe(t)?t.parentNode(e):e.parentNode}let W0=function q0(t,e,n){return 40&t.type?Ln(t,n):null};function td(t,e,n,r){const i=B0(t,r,e),s=e[Y],a=function G0(t,e,n){return W0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)H0(s,i,n[u],a,!1);else H0(s,i,n,a,!1)}function nd(t,e){if(null!==e){const n=e.type;if(3&n)return Ln(e,t);if(4&n)return Tg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return nd(t,r);{const i=t[e.index];return Yn(i)?Tg(-1,i):Ge(i)}}if(32&n)return _g(e,t)()||Ge(t[e.index]);{const r=K0(t,e);return null!==r?Array.isArray(r)?r[0]:nd(pu(t[16]),r):nd(t,e.next)}}return null}function K0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Tg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return nd(r,i)}return e[7]}function Ag(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ut(Ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ag(t,e,n.child,r,i,s,!1),Io(e,t,i,a,s);else if(32&u){const l=_g(n,r);let c;for(;c=l();)Io(e,t,i,c,s);Io(e,t,i,a,s)}else 16&u?Y0(t,e,r,n,i,s):Io(e,t,i,a,s);n=o?n.projectionNext:n.next}}function gu(t,e,n,r,i,s){Ag(n,r,t.firstChild,e,i,s,!1)}function Y0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Io(e,t,i,u[l],s);else Ag(t,e,u,o[3],i,s,!0)}function J0(t,e,n){Pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Sg(t,e,n){Pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function X0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const Z0="ng-template";function w$(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==X0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function eA(t){return 4===t.type&&t.value!==Z0}function E$(t,e,n){return e===(4!==t.type||n?t.value:Z0)}function I$(t,e,n){let r=4;const i=t.attrs||[],s=function C$(t){for(let e=0;e<t.length;e++)if(HT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!E$(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!w$(t.attrs,l,n)){if(Xn(r))return!1;o=!0}continue}const d=b$(8&r?"class":u,i,eA(t),n);if(-1===d){if(Xn(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==X0(f,l,0)||2&r&&l!==h){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(u))return!1;if(o&&Xn(u))continue;o=!1,r=u|1&r}}return Xn(r)||o}function Xn(t){return 0==(1&t)}function b$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function T$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tA(t,e,n=!1){for(let r=0;r<e.length;r++)if(I$(t,e[r],n))return!0;return!1}function nA(t,e){return t?":not("+e.trim()+")":e}function S$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(e+=nA(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(e+=nA(s,i)),e}const W={};function Ct(t){rA(ae(),I(),Qt()+t,!1)}function rA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Lc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Vc(e,s,0,n)}gi(n)}function rd(t,e){return t<<17|e<<2}function Zn(t){return t>>17&32767}function xg(t){return 2|t}function jr(t){return(131068&t)>>2}function Mg(t,e){return-131069&t|e<<2}function kg(t){return 1|t}function pA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];qp(i),o.contentQueries(2,e[s],s)}}}function mu(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,xT(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[Y]=a||t&&t[Y],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function bo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Bg(t,e,n,r,i){const s=RT(),o=jp(),u=t.data[e]=function W$(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function fB(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Qa(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return pr(s,!0),s}function Do(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yu(t,e,n){Pc(e);try{const r=t.viewQuery;null!==r&&Qg(1,r,n);const i=t.template;null!==i&&gA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pA(t,e),t.staticViewQueries&&Qg(2,t.viewQuery,n);const s=t.components;null!==s&&function H$(t,e){for(let n=0;n<e.length;n++)cH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Oc()}}function Co(t,e,n,r){const i=e[2];if(256!=(256&i)){Pc(e);try{xT(e),function PT(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&gA(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Lc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Vc(e,l,0,null),Wp(e,0)}if(function uH(t){for(let e=vg(t);null!==e;e=wg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Bp(s,1),i[2]|=1024}}}(e),function aH(t){for(let e=vg(t);null!==e;e=wg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Up(r)&&Co(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&pA(t,e),o){const l=t.contentCheckHooks;null!==l&&Lc(e,l)}else{const l=t.contentHooks;null!==l&&Vc(e,l,1),Wp(e,1)}!function j$(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)gi(~i);else{const s=i,o=n[++r],a=n[++r];pB(o,s),a(2,e[s])}}}finally{gi(-1)}}(t,e);const a=t.components;null!==a&&function $$(t,e){for(let n=0;n<e.length;n++)lH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Qg(2,u,r),o){const l=t.viewCheckHooks;null!==l&&Lc(e,l)}else{const l=t.viewHooks;null!==l&&Vc(e,l,2),Wp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Bp(e[3],-1))}finally{Oc()}}}function G$(t,e,n,r){const i=e[10],o=ST(e);try{!o&&i.begin&&i.begin(),o&&yu(t,e,r),Co(t,e,n,r)}finally{!o&&i.end&&i.end()}}function gA(t,e,n,r,i){const s=Qt(),o=2&r;try{gi(-1),o&&e.length>20&&rA(t,e,20,!1),n(r,i)}finally{gi(s)}}function jg(t,e,n){!kT()||(function Z$(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Xa(n,e),Ut(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=Jn(u);l&&iH(e,n,u);const c=Za(e,t,a,n);Ut(c,e),null!==o&&sH(0,a-i,c,u,0,o),l&&(In(n.index,e)[8]=c)}}(t,e,n,Ln(n,e)),128==(128&n.flags)&&function eH(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function gB(){return q.lFrame.currentDirectiveIndex}();try{gi(o);for(let u=r;u<i;u++){const l=t.data[u],c=e[u];Hp(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&DA(l,c)}}finally{gi(-1),Hp(a)}}(t,e,n))}function $g(t,e,n=Ln){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function yA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=od(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function od(t,e,n,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function q$(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(c,d),f="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function wA(t,e,n,r){const i=MA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&kA(t).push(r,i.length-1))}function EA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Hg(t,e,n,r){let i=!1;if(kT()){const s=function tH(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];tA(n,o.selectors,!1)&&(i||(i=[]),Hc(Xa(n,e),t,o.type),Jn(o)?(CA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,TA(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Do(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Bc(n.mergedAttrs,d.hostAttrs),AA(t,n,e,l,d),rH(l,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function z$(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||eA(e)?null:oH(d,s);o.push(h),a=EA(d,l,a),u=EA(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function nH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new oe(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Bc(n.mergedAttrs,n.attrs),i}function bA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function X$(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function DA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function CA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function rH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jn(e)&&(n[""]=t)}}function TA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function AA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Zi(i.type)),o=new Ya(s,Jn(i),null);t.blueprint[r]=o,n[r]=o,bA(t,e,0,r,Do(t,n,i.hostVars,W),i)}function iH(t,e,n){const r=Ln(e,t),i=yA(n),s=t[10],o=ad(t,mu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function _r(t,e,n,r,i,s){const o=Ln(t,e);!function Gg(t,e,n,r,i,s,o){if(null==s)Pe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?G(s):o(s,r||"",i);Pe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Y],o,s,t.value,n,r,i)}function sH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(n,d,l,c):n[c]=d}}}function oH(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function SA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function lH(t,e){const n=In(e,t);if(Up(n)){const r=n[1];80&n[2]?Co(r,n,r.template,n[8]):n[5]>0&&qg(n)}}function qg(t){for(let r=vg(t);null!==r;r=wg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Co(o,s,o.template,s[8])}else s[5]>0&&qg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=In(n[r],t);Up(i)&&i[5]>0&&qg(i)}}function cH(t,e){const n=In(e,t),r=n[1];(function dH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),yu(r,n,n[8])}function ad(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Wg(t){for(;t;){t[2]|=64;const e=pu(t);if(q2(t)&&!e)return t;t=e}return null}function xA(t){!function zg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=pg(n),i=r[1];G$(i,r,i.template,n)}}(t[8])}function Qg(t,e,n){qp(0),e(t,n)}const fH=(()=>Promise.resolve(null))();function MA(t){return t[7]||(t[7]=[])}function kA(t){return t.cleanup||(t.cleanup=[])}function RA(t,e){const n=t[9],r=n?n.get(fu,null):null;r&&r.handleError(e)}function PA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function $r(t,e,n){const r=Nc(e,t);!function L0(t,e,n){Pe(t)?t.setValue(e,n):e.textContent=n}(t[Y],r,n)}function ud(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ip(i,a):2==s&&(r=Ip(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Yg=new z("INJECTOR",-1);class OA{get(e,n=iu){if(n===iu){const r=new Error(`NullInjectorError: No provider for ${fe(e)}!`);throw r.name="NullInjectorError",r}return n}}const Jg=new z("Set Injector scope."),_u={},mH={};let Xg;function FA(){return void 0===Xg&&(Xg=new OA),Xg}function LA(t,e=null,n=null,r){const i=VA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function VA(t,e=null,n=null,r){return new yH(t,n,e||FA(),r)}class yH{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&gr(n,a=>this.processProvider(a,e,n)),gr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Yg,To(void 0,this));const o=this.records.get(Jg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:fe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=iu,r=$.Default){this.assertNotDestroyed();const i=u0(this),s=di(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function CH(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Dp(e);a=u&&this.injectableDefInScope(u)?To(Zg(e),_u):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?FA():this.parent).get(e,n=r&$.Optional&&n===iu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[zc]=o[zc]||[]).unshift(fe(e)),i)throw o;return function ej(t,e,n,r){const i=t[zc];throw e[a0]&&i.unshift(e[a0]),t.message=function tj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=fe(e);if(Array.isArray(e))i=e.map(fe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):fe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[zc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{di(s),u0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(fe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processInjectorType(e,n,r){if(!(e=Q(e)))return!1;let i=gT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=gT(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{gr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];gr(f,p=>this.processProvider(p,h,f||we))}}this.injectorDefTypes.add(o);const u=Zi(o)||(()=>new o);this.records.set(o,To(u,_u));const l=i.providers;if(null!=l&&!a){const c=e;gr(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Ao(e=Q(e))?e:Q(e&&e.provide);const s=function vH(t,e,n){return BA(t)?To(void 0,t.useValue):To(UA(t),_u)}(e);if(Ao(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=To(void 0,_u,!0),o.factory=()=>ig(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===_u&&(n.value=mH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function DH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Zg(t){const e=Dp(t),n=null!==e?e.factory:Zi(t);if(null!==n)return n;if(t instanceof z)throw new oe(204,!1);if(t instanceof Function)return function _H(t){const e=t.length;if(e>0)throw function ru(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new oe(204,!1);const n=function N2(t){const e=t&&(t[Cc]||t[mT]);if(e){const n=function R2(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new oe(204,!1)}function UA(t,e,n){let r;if(Ao(t)){const i=Q(t);return Zi(i)||Zg(i)}if(BA(t))r=()=>Q(t.useValue);else if(function EH(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ig(t.deps||[]));else if(function wH(t){return!(!t||!t.useExisting)}(t))r=()=>F(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function bH(t){return!!t.deps}(t))return Zi(i)||Zg(i);r=()=>new i(...ig(t.deps))}return r}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function BA(t){return null!==t&&"object"==typeof t&&YB in t}function Ao(t){return"function"==typeof t}let Bt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return LA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return LA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=iu,t.NULL=new OA,t.\u0275prov=ne({token:t,providedIn:"any",factory:()=>F(Yg)}),t.__NG_ELEMENT_ID__=-1,t})();function RH(t,e){Fc(pg(t)[1],et())}function pe(t){let e=function XA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new oe(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=nm(t.inputs),o.declaredInputs=nm(t.declaredInputs),o.outputs=nm(t.outputs);const a=i.hostBindings;a&&LH(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&OH(t,u),l&&FH(t,l),Ep(t.inputs,i.inputs),Ep(t.declaredInputs,i.declaredInputs),Ep(t.outputs,i.outputs),Jn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===pe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function PH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bc(i.hostAttrs,n=Bc(n,i.hostAttrs))}}(r)}function nm(t){return t===ro?{}:t===we?[]:t}function OH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function FH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function LH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let ld=null;function So(){if(!ld){const t=ye.Symbol;if(t&&t.iterator)ld=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ld=r)}}}return ld}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wr(t,e,n,r){const i=I();return jt(i,lo(),e)&&(ae(),_r(Oe(),i,t,e,n,r)),wr}function Tn(t,e,n,r,i,s,o,a){const u=I(),l=ae(),c=t+20,d=l.firstCreatePass?function GH(t,e,n,r,i,s,o,a,u){const l=e.consts,c=bo(e,t,4,o||null,pi(l,a));Hg(e,n,c,pi(l,u)),Fc(e,c);const d=c.tViews=od(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];pr(d,!1);const h=u[Y].createComment("");td(l,u,h,d),Ut(h,u),ad(u,u[c]=SA(h,u,h,d)),kc(d)&&jg(l,u,d),null!=o&&$g(u,d,a)}function ns(t){return function uo(t,e){return t[e]}(function hB(){return q.lFrame.contextLView}(),20+t)}function b(t,e=$.Default){const n=I();return null===n?F(t,e):YT(et(),n,Q(t),e)}function um(){throw new Error("invalid")}function Tt(t,e,n){const r=I();return jt(r,lo(),e)&&function Cn(t,e,n,r,i,s,o,a){const u=Ln(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(PA(t,n,c,r,i),Mc(e)&&function Q$(t,e){const n=In(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function K$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Pe(s)?s.setProperty(u,r,i):Kp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(ae(),Oe(),r,t,e,r[Y],n,!1),Tt}function lm(t,e,n,r,i){const o=i?"class":"style";PA(t,n,e.inputs[o],o,r)}function ge(t,e,n,r){const i=I(),s=ae(),o=20+t,a=i[Y],u=i[o]=Ig(a,e,function bB(){return q.lFrame.currentNamespace}()),l=s.firstCreatePass?function dG(t,e,n,r,i,s,o){const a=e.consts,l=bo(e,t,2,i,pi(a,s));return Hg(e,n,l,pi(a,o)),null!==l.attrs&&ud(l,l.attrs,!1),null!==l.mergedAttrs&&ud(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];pr(l,!0);const c=l.mergedAttrs;null!==c&&Uc(a,u,c);const d=l.classes;null!==d&&Sg(a,u,d);const h=l.styles;return null!==h&&J0(a,u,h),64!=(64&l.flags)&&td(s,i,u,l),0===function aB(){return q.lFrame.elementDepthCount}()&&Ut(u,i),function uB(){q.lFrame.elementDepthCount++}(),kc(l)&&(jg(s,i,l),function mA(t,e,n){if(kp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,l,i)),null!==r&&$g(i,l),ge}function Ee(){let t=et();jp()?function $p(){q.lFrame.isParent=!1}():(t=t.parent,pr(t,!1));const e=t;!function lB(){q.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Fc(n,t),kp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function SB(t){return 0!=(16&t.flags)}(e)&&lm(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function xB(t){return 0!=(32&t.flags)}(e)&&lm(n,e,I(),e.stylesWithoutHost,!1),Ee}function Hr(t,e,n,r){return ge(t,e,n,r),Ee(),Hr}function Eu(t){return!!t&&"function"==typeof t.then}const hm=function wS(t){return!!t&&"function"==typeof t.subscribe};function Jt(t,e,n,r){const i=I(),s=ae(),o=et();return function IS(t,e,n,r,i,s,o,a){const u=kc(r),c=t.firstCreatePass&&kA(t),d=e[8],h=MA(e);let f=!0;if(3&r.type||a){const _=Ln(r,e),E=a?a(_):_,y=h.length,T=a?P=>a(Ge(P[r.index])):r.index;if(Pe(n)){let P=null;if(!a&&u&&(P=function fG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=fm(r,e,d,s,!1);const O=n.listen(E,i,s);h.push(s,O),c&&c.push(i,T,y,y+1)}}else s=fm(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),c&&c.push(i,T,y,o)}else s=fm(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let E=0;E<_;E+=2){const Z=e[g[E]][g[E+1]].subscribe(s),Ae=h.length;h.push(s,Z),c&&c.push(i,r.index,Ae,-(Ae+1))}}}(s,i,i[Y],o,t,e,!!n,r),Jt}function bS(t,e,n,r){try{return!1!==n(r)}catch(i){return RA(t,i),!1}}function fm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?In(t.index,e):e;0==(32&e[2])&&Wg(a);let u=bS(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=bS(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Iu(t=1){return function yB(t){return(q.lFrame.contextLView=function _B(t,e){for(;t>0;)e=e[15],t--;return e}(t,q.lFrame.contextLView))[8]}(t)}function RS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Zn(s):jr(s),u=!1;for(;0!==a&&(!1===u||o);){const c=t[a+1];vG(t[a],e)&&(u=!0,t[a+1]=r?kg(c):xg(c)),a=r?Zn(c):jr(c)}u&&(t[n+1]=r?xg(s):kg(s))}function vG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_o(t,e)>=0}function hd(t,e){return function tr(t,e,n,r){const i=I(),s=ae(),o=function Br(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function $S(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Qt()],o=function jS(t,e){return e>=t.expandoStartIndex}(t,n);(function WS(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function SG(t,e,n,r){const i=function Gp(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bu(n=gm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=gm(i,t,e,n,r),null===s){let u=function xG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==jr(r))return t[Zn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=gm(null,t,e,u[1],r),u=bu(u,e.attrs,r),function MG(t,e,n,r){t[Zn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function kG(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bu(r,t[s].hostAttrs,n);return bu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function yG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zn(o),u=jr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||_o(d,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const h=Zn(t[a+1]);t[r+1]=rd(h,a),0!==h&&(t[h+1]=Mg(t[h+1],r)),t[a+1]=function k$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=rd(a,0),0!==a&&(t[a+1]=Mg(t[a+1],r)),a=r;else t[r+1]=rd(u,0),0===a?a=r:t[u+1]=Mg(t[u+1],r),u=r;l&&(t[r+1]=xg(t[r+1])),RS(t,c,r,!0),RS(t,c,r,!1),function _G(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&_o(s,e)>=0&&(n[r+1]=kg(n[r+1]))}(e,c,t,r,s),o=rd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==W&&jt(i,o,e)&&function GS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];fd(function oA(t){return 1==(1&t)}(l)?qS(u,e,n,i,jr(l),o):void 0)||(fd(s)||function sA(t){return 2==(2&t)}(l)&&(s=qS(u,null,n,i,a,o)),function v$(t,e,n,r,i){const s=Pe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Dn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Dn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Nc(Qt(),n),i,s))}(s,s.data[Qt()],i,i[Y],t,i[o+1]=function PG(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=fe(yi(t)))),t}(e,n),r,o)}(t,e,null,!0),hd}function gm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,o,!!n||e[++s]))}return void 0===t?null:t}function qS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=n[i+1];h===W&&(h=d?we:void 0);let f=d?tg(h,r):c===r?h:void 0;if(l&&!fd(f)&&(f=tg(u,r)),fd(f)&&(a=f,o))return a;const p=t[i+1];i=o?Zn(p):jr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=tg(u,r))}return a}function fd(t){return void 0!==t}function rt(t,e=""){const n=I(),r=ae(),i=t+20,s=r.firstCreatePass?bo(r,i,1,e,null):r.data[i],o=n[i]=function Eg(t,e){return Pe(t)?t.createText(e):t.createTextNode(e)}(n[Y],e);td(r,n,o,s),pr(s,!1)}function pd(t,e,n){const r=I(),i=function Mo(t,e,n,r){return jt(t,lo(),n)?e+G(n)+r:W}(r,t,e,n);return i!==W&&$r(r,Qt(),i),pd}const gd="en-US";let gx=gd;function _m(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)_m(t[s],e,n,r,i);else{const s=ae(),o=I();let a=Ao(t)?t:Q(t.provide),u=UA(t);const l=et(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Ao(t)||!t.multi){const f=new Ya(u,i,b),p=wm(a,e,i?c:c+h,d);-1===p?(Hc(Xa(l,o),s,a),vm(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=wm(a,e,c+h,d),p=wm(a,e,c,c+h),g=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!g){Hc(Xa(l,o),s,a);const E=function Zq(t,e,n,r,i){const s=new Ya(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,Ux(s,i,r&&!n),s}(i?Xq:Jq,n.length,i,r,u);!i&&_&&(n[p].providerFactory=E),vm(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(E),o.push(E)}else vm(s,t,f>-1?f:p,Ux(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function vm(t,e,n,r){const i=Ao(e),s=function IH(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function Ux(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Jq(t,e,n,r){return Em(this.multi,[])}function Xq(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Za(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Em(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Em(i,s);return s}function Em(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Yq(t,e,n){const r=ae();if(r.firstCreatePass){const i=Jn(t);_m(n,r.data,r.blueprint,i,!0),_m(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Bx{}class nW{resolveComponentFactory(e){throw function tW(t){const e=Error(`No component factory found for ${fe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Su=(()=>{class t{}return t.NULL=new nW,t})();function rW(){return $o(et(),I())}function $o(t,e){return new An(Ln(t,e))}let An=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=rW,t})();function iW(t){return t instanceof An?t.nativeElement:t}class $x{}let Gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function oW(){const t=I(),n=In(et().index,t);return function sW(t){return t[Y]}(fr(n)?n:t)}(),t})(),aW=(()=>{class t{}return t.\u0275prov=ne({token:t,providedIn:"root",factory:()=>null}),t})();class Ho{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Hx=new Ho("13.3.8"),Im={};function wd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ge(s)),Yn(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&wd(u[1],u,l,r)}const o=n.type;if(8&o)wd(t,e,n.child,r);else if(32&o){const a=_g(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=K0(e,n);if(Array.isArray(a))r.push(...a);else{const u=pu(e[16]);wd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class xu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return wd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(bg(e,r),qc(n,r))}this._attachedToViewContainer=!1}U0(this._lView[1],this._lView)}onDestroy(e){wA(this._lView[1],this._lView,null,e)}markForCheck(){Wg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Kg(t,e,n){const r=e[10];r.begin&&r.begin();try{Co(t,e,t.template,n)}catch(i){throw RA(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l$(t,e){gu(t,e,e[Y],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new oe(902,"");this._appRef=e}}class uW extends xu{constructor(e){super(e),this._view=e}detectChanges(){xA(this._view)}checkNoChanges(){}get context(){return null}}class Gx extends Su{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ft(e);return new bm(n,this.ngModule)}}function qx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class bm extends Bx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function x$(t){return t.map(S$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return qx(this.componentDef.inputs)}get outputs(){return qx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function cW(t,e){return{get:(n,r,i)=>{const s=t.get(n,Im,i);return s!==Im||r===Im?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get($x,AT),a=s.get(aW,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function vA(t,e,n){if(Pe(t))return t.selectRootElement(e,n===hr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Ig(o.createRenderer(null,this.componentDef),l,function lW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,h=function JA(t,e){return{components:[],scheduler:t||t$,clean:fH,playerHandler:e||null,flags:0}}(),f=od(0,null,null,1,0,null,null,null,null,null),p=mu(null,f,h,d,null,null,o,u,a,s);let g,_;Pc(p);try{const E=function QA(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=bo(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(ud(u,l,!0),null!==t&&(Uc(i,t,l),null!==u.classes&&Sg(i,t,u.classes),null!==u.styles&&J0(i,t,u.styles)));const c=r.createRenderer(t,e),d=mu(n,yA(e),null,e.onPush?64:16,n[20],u,r,c,s||null,null);return o.firstCreatePass&&(Hc(Xa(u,n),o,e.type),CA(o,u),TA(u,n.length,1)),ad(n,d),n[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)Uc(u,c,["ng-version",Hx.full]);else{const{attrs:y,classes:T}=function M$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Uc(u,c,y),T&&T.length>0&&Sg(u,c,T.join(" "))}if(_=Vp(f,20),void 0!==n){const y=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=n[T];y.push(null!=P?Array.from(P):null)}}g=function YA(t,e,n,r,i){const s=n[1],o=function J$(t,e,n){const r=et();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),AA(t,r,e,Do(t,e,1,null),n));const i=Za(e,t,r.directiveStart,r);Ut(i,e);const s=Ln(r,e);return s&&Ut(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=et();e.contentQueries(1,o,u.directiveStart)}const a=et();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(gi(a.index),bA(n[1],a,0,a.directiveStart,a.directiveEnd,e),DA(e,o)),o}(E,this.componentDef,p,h,[RH]),yu(f,p,null)}finally{Oc()}return new hW(this.componentType,g,$o(_,p),p,_)}}class hW extends class eW{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new uW(i),this.componentType=e}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class qr{}class Wx{}const Go=new Map;class Qx extends qr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gx(this);const r=Rn(e);this._bootstrapComponents=yr(r.bootstrap),this._r3Injector=VA(e,n,[{provide:qr,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],fe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Bt.THROW_IF_NOT_FOUND,r=$.Default){return e===Bt||e===qr||e===Yg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dm extends Wx{constructor(e){super(),this.moduleType=e,null!==Rn(e)&&function pW(t){const e=new Set;!function n(r){const i=Rn(r,!0),s=i.id;null!==s&&(function zx(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${fe(e)} vs ${fe(e.name)}`)}(s,Go.get(s),r),Go.set(s,r));const o=yr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new Qx(this.moduleType,e)}}function Cm(t){return e=>{setTimeout(t,void 0,e)}}const Le=class NW extends Pr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Cm(u),a&&(a=Cm(a)),l&&(l=Cm(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof yn&&e.add(c),c}};function RW(){return this._results[So()]()}class Tm{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=So(),r=Tm.prototype;r[n]||(r[n]=RW)}get changes(){return this._changes||(this._changes=new Le)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=Vn(e);(this._changesDetected=!function UB(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=FW,t})();const PW=Wr,OW=class extends PW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=mu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),yu(n,r,e),new xu(r)}};function FW(){return Ed(et(),I())}function Ed(t,e){return 4&t.type?new OW(e,t,$o(t,e)):null}let rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=LW,t})();function LW(){return rM(et(),I())}const VW=rr,tM=class extends VW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $o(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const e=$c(this._hostTNode,this._hostLView);if(qT(e)){const n=ho(e,this._hostLView),r=co(e);return new fo(n[1].data[r+8],n)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=nM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function nu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new bm(Ft(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(qr,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function oB(t){return Yn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new tM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function d$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],t0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function h$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Tg(s,o),u=r[Y],l=ed(u,o[7]);return null!==l&&function u$(t,e,n,r,i,s){r[0]=i,r[6]=e,gu(t,r,n,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),t0(Am(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=nM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=bg(this._lContainer,n);r&&(qc(Am(this._lContainer),n),U0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=bg(this._lContainer,n);return r&&null!=qc(Am(this._lContainer),n)?new xu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function nM(t){return t[8]}function Am(t){return t[8]||(t[8]=[])}function rM(t,e){let n;const r=e[t.index];if(Yn(r))n=r;else{let i;if(8&t.type)i=Ge(r);else{const s=e[Y];i=s.createComment("");const o=Ln(t,e);es(s,ed(s,o),i,function m$(t,e){return Pe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=SA(r,e,i,t),ad(e,n)}return new tM(n,t,e)}class Sm{constructor(e){this.queryList=e,this.matches=null}clone(){return new Sm(this.queryList)}setDirty(){this.queryList.setDirty()}}class xm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new xm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==uM(e,n).matches&&this.queries[n].setDirty()}}class iM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Mm{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Mm(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class km{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new km(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,jW(n,s)),this.matchTNodeWithReadOption(e,n,Gc(n,e,s,!1,!1))}else r===Wr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===An||i===rr||i===Wr&&4&n.type)this.addMatch(n.index,-2);else{const s=Gc(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function jW(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function HW(t,e,n,r){return-1===n?function $W(t,e){return 11&t.type?$o(t,e):4&t.type?Ed(t,e):null}(e,t):-2===n?function GW(t,e,n){return n===An?$o(e,t):n===Wr?Ed(e,t):n===rr?rM(e,t):void 0}(t,e,r):Za(t,t[1],n,e)}function sM(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:HW(e,s[l],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Nm(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=sM(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&Nm(h[1],h,l,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];Nm(f[1],f,l,r)}}}}}return r}function Rm(t){const e=I(),n=ae(),r=FT();qp(r+1);const i=uM(n,r);if(t.dirty&&ST(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Nm(n,e,r,[]):sM(n,e,i,r);t.reset(s,iW),t.notifyOnChanges()}return!0}return!1}function Pm(t,e,n,r){const i=ae();if(i.firstCreatePass){const s=et();(function aM(t,e,n){null===t.queries&&(t.queries=new Mm),t.queries.track(new km(e,n))})(i,new iM(e,n,r),s.index),function zW(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function oM(t,e,n){const r=new Tm(4==(4&n));wA(t,e,r,r.destroy),null===e[19]&&(e[19]=new xm),e[19].queries.push(new Sm(r))}(i,I(),n)}function Om(){return function WW(t,e){return t[19].queries[e].queryList}(I(),FT())}function uM(t,e){return t.queries.getByIndex(e)}function Dd(...t){}const jm=new z("Application Initializer");let $m=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Dd,this.reject=Dd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Eu(s))n.push(s);else if(hm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(jm,8))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ru=new z("AppId",{providedIn:"root",factory:function CM(){return`${Hm()}${Hm()}${Hm()}`}});function Hm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const TM=new z("Platform Initializer"),Cd=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AM=new z("appBootstrapListener");let dz=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const wi=new z("LocaleId",{providedIn:"root",factory:()=>XB(wi,$.Optional|$.SkipSelf)||function hz(){return"undefined"!=typeof $localize&&$localize.locale||gd}()});class pz{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let SM=(()=>{class t{compileModuleSync(n){return new Dm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=yr(Rn(n).declarations).reduce((o,a)=>{const u=Ft(a);return u&&o.push(new bm(u)),o},[]);return new pz(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mz=(()=>Promise.resolve(0))();function Gm(t){"undefined"==typeof Zone?mz.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class We{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yz(){let t=ye.requestAnimationFrame,e=ye.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function wz(t){const e=()=>{!function vz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ye,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wm(t),t.isCheckStableRunning=!0,qm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return xM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),MM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return xM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),MM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Wm(t),qm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(We.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_z,Dd,Dd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const _z={};function qm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function MM(t){t._nesting--,qm(t)}class Ez{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let zm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),Gm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(We))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),Iz=(()=>{class t{constructor(){this._applications=new Map,Km.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Km.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class bz{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Km=new bz,is=null;const kM=new z("AllowMultipleToken"),NM=new z("PlatformOnDestroy");class RM{constructor(e,n){this.name=e,this.token=n}}function PM(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=Qm();if(!o||o.injector.get(kM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Az(t){if(is&&!is.get(kM,!1))throw new oe(400,"");is=t;const e=t.get(OM),n=t.get(TM,null);n&&n.forEach(r=>r())}(function xz(t=[],e){return Bt.create({name:e,providers:[{provide:Jg,useValue:"platform"},{provide:NM,useValue:()=>is=null},...t]})}(a,r))}return function Sz(t){const e=Qm();if(!e)throw new oe(401,"");return e}()}}function Qm(){var t;return null!==(t=null==is?void 0:is.get(OM))&&void 0!==t?t:null}let OM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function Mz(t,e){let n;return n="noop"===t?new Ez:("zone.js"===t?void 0:t)||new We({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:We,useValue:a}];return a.run(()=>{const l=Bt.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),d=c.injector.get(fu,null);if(!d)throw new oe(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{Jm(this._modules,c),h.unsubscribe()})}),function kz(t,e,n){try{const r=n();return Eu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=c.injector.get($m);return h.runInitializers(),h.donePromise.then(()=>(function sq(t){vn(t,"Expected localeId to be defined"),"string"==typeof t&&(gx=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(wi,gd)||gd),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=FM({},r);return function Cz(t,e,n){const r=new Dm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ym);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new oe(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(NM,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function FM(t,e){return Array.isArray(e)?e.reduce(FM,t):Object.assign(Object.assign({},t),e)}let Ym=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ne(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Ne(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),Gm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function C2(...t){const e=Ga(t),n=function _2(t,e){return"number"==typeof vp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?dr(r[0]):Ha(n)(ht(r,e)):Fr}(o,a.pipe(function T2(t={}){const{connector:e=(()=>new Pr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return bt((g,_)=>{l++,!d&&!c&&h();const E=u=null!=u?u:e();_.add(()=>{l--,0===l&&!d&&!c&&(a=wp(p,i))}),E.subscribe(_),o||(o=new vc({next:y=>E.next(y),error:y=>{d=!0,h(),a=wp(f,n,y),E.error(y)},complete:()=>{c=!0,h(),a=wp(f,r),E.complete()}}),ht(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new oe(405,"");let i;i=n instanceof Bx?n:this._injector.get(Su).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function Tz(t){return t.isBoundToModule}(i)?void 0:this._injector.get(qr),a=i.create(Bt.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(zm,null),c=l&&a.injector.get(Iz);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),Jm(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new oe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Jm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(AM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F(We),F(Bt),F(fu),F($m))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Jm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let VM=!0,Td=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pz,t})();function Pz(t){return function Oz(t,e,n){if(Mc(t)&&!n){const r=In(t.index,e);return new xu(r,r)}return 47&t.type?new xu(e[16],e):null}(et(),I(),16==(16&t))}const Kz=PM(null,"core",[]);let Qz=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(Ym))},t.\u0275mod=wn({type:t}),t.\u0275inj=un({}),t})(),Md=null;function br(){return Md}const Bn=new z("DocumentToken");let os=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:function(){return function Zz(){return F(QM)}()},providedIn:"platform"}),t})();const e3=new z("Location Initialized");let QM=(()=>{class t extends os{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return br().getBaseHref(this._doc)}onPopState(n){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){YM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){YM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ne({token:t,factory:function(){return function t3(){return new QM(F(Bn))}()},providedIn:"platform"}),t})();function YM(){return!!window.history.pushState}function ny(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function JM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function zr(t){return t&&"?"!==t[0]?"?"+t:t}let Wo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:function(){return function n3(t){const e=F(Bn).location;return new XM(F(os),e&&e.origin||"")}()},providedIn:"root"}),t})();const ry=new z("appBaseHref");let XM=(()=>{class t extends Wo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ny(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(os),F(ry,8))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),r3=(()=>{class t extends Wo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ny(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(os),F(ry,8))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),iy=(()=>{class t{constructor(n,r){this._subject=new Le,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=JM(ZM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+zr(r))}normalize(n){return t.stripTrailingSlash(function s3(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ZM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=zr,t.joinWithSlash=ny,t.stripTrailingSlash=JM,t.\u0275fac=function(n){return new(n||t)(F(Wo),F(os))},t.\u0275prov=ne({token:t,factory:function(){return function i3(){return new iy(F(Wo),F(os))}()},providedIn:"root"}),t})();function ZM(t){return t.replace(/\/index.html$/,"")}let py=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new z3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(rr),b(Wr))},t.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class z3{constructor(){this.$implicit=null,this.ngIf=null}}function lk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${fe(e)}'.`)}let w8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=un({}),t})();let D8=(()=>{class t{}return t.\u0275prov=ne({token:t,providedIn:"root",factory:()=>new C8(F(Bn),window)}),t})();class C8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function T8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fk(this.window.history)||fk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class vy extends class S8 extends class Xz{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Jz(t){Md||(Md=t)}(new vy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function x8(){return Lu=Lu||document.querySelector("base"),Lu?Lu.getAttribute("href"):null}();return null==n?null:function M8(t){Bd=Bd||document.createElement("a"),Bd.setAttribute("href",t);const e=Bd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Lu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Bd,Lu=null;const pk=new z("TRANSITION_ID"),N8=[{provide:jm,useFactory:function k8(t,e,n){return()=>{n.get($m).donePromise.then(()=>{const r=br(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[pk,Bn,Bt],multi:!0}];class wy{static init(){!function Dz(t){Km=t}(new wy)}addToWindow(e){ye.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ye.getAllAngularTestabilities=()=>e.getAllTestabilities(),ye.getAllAngularRootElements=()=>e.getAllRootElements(),ye.frameworkStabilizers||(ye.frameworkStabilizers=[]),ye.frameworkStabilizers.push(r=>{const i=ye.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?br().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let R8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const jd=new z("EventManagerPlugins");let $d=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(jd),F(We))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();class gk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=br().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let mk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),Vu=(()=>{class t extends mk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(yk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(yk))}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();function yk(t){br().remove(t)}const Ey={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Iy=/%COMP%/g;function Hd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Hd(t,i,n):(i=i.replace(Iy,t),n.push(i))}return n}function wk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let by=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Dy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case hr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new U8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case hr.ShadowDom:return new B8(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Hd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F($d),F(Vu),F(Ru))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();class Dy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Ey[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Ey[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ey[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dn.DashCase|Dn.Important)?e.style.setProperty(n,r,i&Dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,wk(r)):this.eventManager.addEventListener(e,n,wk(r))}}class U8 extends Dy{constructor(e,n,r,i){super(e),this.component=r;const s=Hd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function F8(t){return"_ngcontent-%COMP%".replace(Iy,t)}(i+"-"+r.id),this.hostAttr=function L8(t){return"_nghost-%COMP%".replace(Iy,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class B8 extends Dy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Hd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let j8=(()=>{class t extends gk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const Ik=["alt","control","meta","shift"],H8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},G8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let q8=(()=>{class t extends gk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>br().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Ik.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function W8(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&bk.hasOwnProperty(e)&&(e=bk[e]))}return H8[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ik.forEach(s=>{s!=i&&G8[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const Y8=PM(Kz,"browser",[{provide:Cd,useValue:"browser"},{provide:TM,useValue:function z8(){vy.makeCurrent(),wy.init()},multi:!0},{provide:Bn,useFactory:function Q8(){return function nB(t){Fp=t}(document),document},deps:[]}]),J8=[{provide:Jg,useValue:"root"},{provide:fu,useFactory:function K8(){return new fu},deps:[]},{provide:jd,useClass:j8,multi:!0,deps:[Bn,We,Cd]},{provide:jd,useClass:q8,multi:!0,deps:[Bn]},{provide:by,useClass:by,deps:[$d,Vu,Ru]},{provide:$x,useExisting:by},{provide:mk,useExisting:Vu},{provide:Vu,useClass:Vu,deps:[Bn]},{provide:zm,useClass:zm,deps:[We]},{provide:$d,useClass:$d,deps:[jd,We]},{provide:class A8{},useClass:R8,deps:[]}];let X8=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ru,useValue:n.appId},{provide:pk,useExisting:Ru},N8]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=wn({type:t}),t.\u0275inj=un({providers:J8,imports:[w8,Qz]}),t})();function Tk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Tk(s,r,i,o,a,"next",u)}function a(u){Tk(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const Ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gd=function(t){return function(t){const e=Ak(t);return Ay.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class xy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Sn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function qd(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Mk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function as(){return"object"==typeof indexedDB}function Uu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function My(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function v4(t,e){return t.replace(w4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Qr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const w4=/\{\$([^}]+)}/g;function ky(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Nk(s)&&Nk(o)){if(!ky(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nk(t){return null!==t&&"object"==typeof t}function Rk(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class I4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function b4(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Ny),void 0===i.error&&(i.error=Ny),void 0===i.complete&&(i.complete=Ny);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ny(){}function Py(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Hn(t){return t&&t._delegate?t._delegate:t}class $t{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class x4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function k4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===us?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class N4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Oy=[];var ue=(()=>{return(t=ue||(ue={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ue;var t})();const Pk={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},R4=ue.INFO,P4={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},O4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=P4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class zo{constructor(e){this.name=e,this._logLevel=R4,this._logHandler=O4,this._userLogHandler=null,Oy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}let Ok,Fk;const Lk=new WeakMap,Fy=new WeakMap,Vk=new WeakMap,Ly=new WeakMap,Vy=new WeakMap;let Uy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Fy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Vk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function H4(t){return"function"==typeof t?function $4(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function V4(){return Fk||(Fk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(By(this),e),Yr(Lk.get(this))}:function(...e){return Yr(t.apply(By(this),e))}:function(e,...n){const r=t.call(By(this),e,...n);return Vk.set(r,e.sort?e.sort():[e]),Yr(r)}}(t):(t instanceof IDBTransaction&&function B4(t){if(Fy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fy.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function L4(){return Ok||(Ok=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Uy):t)}function Yr(t){if(t instanceof IDBRequest)return function U4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Lk.set(n,t)}).catch(()=>{}),Vy.set(e,t),e}(t);if(Ly.has(t))return Ly.get(t);const e=H4(t);return e!==t&&(Ly.set(t,e),Vy.set(e,t)),e}const By=t=>Vy.get(t);function zd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yr(o.result),u.oldVersion,u.newVersion,Yr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function jy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Yr(n).then(()=>{})}const G4=["get","getKey","getAll","getAllKeys","count"],q4=["put","add","delete","clear"],$y=new Map;function Uk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($y.get(e))return $y.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=q4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!G4.includes(n))return;const s=function(){var o=m(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return $y.set(e,s),s}!function j4(t){Uy=t(Uy)}(t=>GU(HU({},t),{get:(e,n,r)=>Uk(e,n)||t.get(e,n,r),has:(e,n)=>!!Uk(e,n)||t.has(e,n)}));class W4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function z4(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Hy="@firebase/app",Gy=new zo("@firebase/app"),qy="[DEFAULT]",v6={[Hy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ls=new Map,Kd=new Map;function w6(t,e){try{t.container.addComponent(e)}catch(n){Gy.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Kd.has(e))return Gy.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,t);for(const n of ls.values())w6(n,t);return!0}function Qd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ii=new Dr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class I6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}function b6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:qy,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Ii.create("bad-app-name",{appName:String(r)});const i=ls.get(r);if(i){if(ky(t,i.options)&&ky(n,i.config))return i;throw Ii.create("duplicate-app",{appName:r})}const s=new N4(r);for(const a of Kd.values())s.addComponent(a);const o=new I6(t,n,s);return ls.set(r,o),o}function jk(t=qy){const e=ls.get(t);if(!e)throw Ii.create("no-app",{appName:t});return e}function $k(){return Array.from(ls.values())}function je(t,e,n){var r;let i=null!==(r=v6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Gy.warn(a.join(" "))}en(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Bu="firebase-heartbeat-store";let zy=null;function Hk(){return zy||(zy=zd("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Bu)}}).catch(t=>{throw Ii.create("storage-open",{originalErrorMessage:t.message})})),zy}function Ky(){return(Ky=m(function*(t){try{return(yield Hk()).transaction(Bu).objectStore(Bu).get(qk(t))}catch(e){throw Ii.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function Gk(t,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=m(function*(t,e){try{const r=(yield Hk()).transaction(Bu,"readwrite");return yield r.objectStore(Bu).put(e,qk(t)),r.done}catch(n){throw Ii.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function qk(t){return`${t.name}!${t.options.appId}`}class x6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Wk(),{heartbeatsToSend:r,unsentEntries:i}=function M6(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Gd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Wk(){return(new Date).toISOString().substring(0,10)}class k6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!as()&&Uu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function T6(t){return Ky.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Gk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Gk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function zk(t){return Gd(JSON.stringify({version:2,heartbeats:t})).length}!function N6(t){en(new $t("platform-logger",e=>new W4(e),"PRIVATE")),en(new $t("heartbeat",e=>new x6(e),"PRIVATE")),je(Hy,"0.7.24",t),je(Hy,"0.7.24","esm2017"),je("fire-js","")}(""),je("firebase","9.8.1","app");const Kk="@firebase/installations",Yk="w:0.5.9",Jk="FIS_v2",Jr=new Dr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xk(t){return t instanceof Qr&&t.code.includes("request-failed")}function Jy({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Zk(t){return{token:t.token,requestStatus:2,expiresIn:B6(t.expiresIn),creationTime:Date.now()}}function Xy(t,e){return Zy.apply(this,arguments)}function Zy(){return(Zy=m(function*(t,e){const r=(yield e.json()).error;return Jr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function eN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tN(t,{refreshToken:e}){const n=eN(t);return n.append("Authorization",function j6(t){return`${Jk} ${t}`}(e)),n}function e_(t){return t_.apply(this,arguments)}function t_(){return(t_=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function B6(t){return Number(t.replace("s","000"))}function $6(t,e){return n_.apply(this,arguments)}function n_(){return(n_=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Jy(t),i=eN(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Jk,appId:t.appId,sdkVersion:Yk})},u=yield e_(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Zk(l.authToken)}}throw yield Xy("Create Installation",u)})).apply(this,arguments)}function nN(t){return new Promise(e=>{setTimeout(e,t)})}const G6=/^[cdef][\w-]{21}$/;function q6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function W6(t){return function H6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return G6.test(n)?n:""}catch(t){return""}}function Ko(t){return`${t.appName}!${t.appId}`}const Qo=new Map;function rN(t,e){const n=Ko(t);iN(n,e),function Q6(t,e){const n=function sN(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{iN(t.data.key,t.data.fid)}),cs}();n&&n.postMessage({key:t,fid:e}),function oN(){0===Qo.size&&cs&&(cs.close(),cs=null)}()}(n,e)}function iN(t,e){const n=Qo.get(t);if(n)for(const r of n)r(e)}let cs=null;const ds="firebase-installations-store";let i_=null;function s_(){return i_||(i_=zd("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ds)}})),i_}function Jd(t,e){return o_.apply(this,arguments)}function o_(){return(o_=m(function*(t,e){const n=Ko(t),i=(yield s_()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&rN(t,e.fid),e})).apply(this,arguments)}function a_(t){return u_.apply(this,arguments)}function u_(){return(u_=m(function*(t){const e=Ko(t),r=(yield s_()).transaction(ds,"readwrite");yield r.objectStore(ds).delete(e),yield r.done})).apply(this,arguments)}function ju(t,e){return l_.apply(this,arguments)}function l_(){return(l_=m(function*(t,e){const n=Ko(t),i=(yield s_()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&rN(t,a.fid),a})).apply(this,arguments)}function c_(t){return d_.apply(this,arguments)}function d_(){return(d_=m(function*(t){let e;const n=yield ju(t.appConfig,r=>{const i=X6(r),s=Z6(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function X6(t){return uN(t||{fid:q6(),registrationStatus:0})}function Z6(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function eK(t,e){return h_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:tK(t)}:{installationEntry:e}}function h_(){return(h_=m(function*(t,e){try{const n=yield $6(t,e);return Jd(t.appConfig,n)}catch(n){throw Xk(n)&&409===n.customData.serverCode?yield a_(t.appConfig):yield Jd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function tK(t){return f_.apply(this,arguments)}function f_(){return(f_=m(function*(t){let e=yield aN(t.appConfig);for(;1===e.registrationStatus;)yield nN(100),e=yield aN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield c_(t);return r||n}return e})).apply(this,arguments)}function aN(t){return ju(t,e=>{if(!e)throw Jr.create("installation-not-found");return uN(e)})}function uN(t){return function nK(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function rK(t,e){return p_.apply(this,arguments)}function p_(){return(p_=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=iK(t,n),i=tN(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Yk,appId:t.appId}})},u=yield e_(()=>fetch(r,a));if(u.ok)return Zk(yield u.json());throw yield Xy("Generate Auth Token",u)})).apply(this,arguments)}function iK(t,{fid:e}){return`${Jy(t)}/${e}/authTokens:generate`}function g_(t){return m_.apply(this,arguments)}function m_(){return(m_=m(function*(t,e=!1){let n;const r=yield ju(t.appConfig,s=>{if(!cN(s))throw Jr.create("not-registered");const o=s.authToken;if(!e&&aK(o))return s;if(1===o.requestStatus)return n=sK(t,e),s;{if(!navigator.onLine)throw Jr.create("app-offline");const a=lK(s);return n=oK(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function sK(t,e){return y_.apply(this,arguments)}function y_(){return(y_=m(function*(t,e){let n=yield lN(t.appConfig);for(;1===n.authToken.requestStatus;)yield nN(100),n=yield lN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?g_(t,e):r})).apply(this,arguments)}function lN(t){return ju(t,e=>{if(!cN(e))throw Jr.create("not-registered");return function cK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function oK(t,e){return __.apply(this,arguments)}function __(){return(__=m(function*(t,e){try{const n=yield rK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Jd(t.appConfig,r),n}catch(n){if(!Xk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Jd(t.appConfig,r)}else yield a_(t.appConfig);throw n}})).apply(this,arguments)}function cN(t){return void 0!==t&&2===t.registrationStatus}function aK(t){return 2===t.requestStatus&&!function uK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function lK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function v_(){return(v_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield c_(e);return r?r.catch(console.error):g_(e).catch(console.error),n.fid})).apply(this,arguments)}function w_(){return(w_=m(function*(t,e=!1){const n=t;return yield fK(n),(yield g_(n,e)).token})).apply(this,arguments)}function fK(t){return E_.apply(this,arguments)}function E_(){return(E_=m(function*(t){const{registrationPromise:e}=yield c_(t);e&&(yield e)})).apply(this,arguments)}function D_(t){return Jr.create("missing-app-config-values",{valueName:t})}const dN="installations",_K=t=>{const e=t.getProvider("app").getImmediate(),n=function mK(t){if(!t||!t.options)throw D_("App Configuration");if(!t.name)throw D_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw D_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Qd(e,"heartbeat"),_delete:()=>Promise.resolve()}},vK=t=>{const n=Qd(t.getProvider("app").getImmediate(),dN).getImmediate();return{getId:()=>function dK(t){return v_.apply(this,arguments)}(n),getToken:i=>function hK(t){return w_.apply(this,arguments)}(n,i)}};(function wK(){en(new $t(dN,_K,"PUBLIC")),en(new $t("installations-internal",vK,"PRIVATE"))})(),je(Kk,"0.5.9"),je(Kk,"0.5.9","esm2017");const C_="@firebase/remote-config",hn=new Dr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function NK(t=navigator){return t.languages&&t.languages[0]||t.language}class RK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:NK()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((E,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(E){let y="fetch-client-network";throw"AbortError"===E.name&&(y="fetch-timeout"),hn.create(y,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw hn.create("fetch-client-parse",{originalErrorMessage:y.message})}g=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw hn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class FK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function PK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function OK(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Py(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class UK{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zd(t,e){const n=t.target.error||void 0;return hn.create(e,{originalErrorMessage:n&&n.message})}const hs="app_namespace_store";class HK{constructor(e,n,r,i=function $K(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Zd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hs,{keyPath:"compositeKey"})}}catch(n){e(hn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([hs],"readonly").objectStore(hs),u=n.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(Zd(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(hn.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([hs],"readwrite").objectStore(hs),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:n});c.onerror=d=>{o(Zd(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(hn.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([hs],"readwrite").objectStore(hs),u=n.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(Zd(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(hn.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class GK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function WK(){return M_.apply(this,arguments)}function M_(){return(M_=m(function*(){if(!as())return!1;try{return yield Uu()}catch(t){return!1}})).apply(this,arguments)}!function qK(){en(new $t("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw hn.create("registration-window");if(!as())throw hn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw hn.create("registration-project-id");if(!o)throw hn.create("registration-api-key");if(!a)throw hn.create("registration-app-id");const u=new HK(a,r.name,n=n||"firebase"),l=new GK(u),c=new zo(C_);c.logLevel=ue.ERROR;const d=new RK(i,"9.8.1",n,s,o,a),h=new FK(d,u),f=new kK(h,u,l,c),p=new UK(r,f,l,u,c);return function SK(t){const e=Hn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),je(C_,"0.3.8"),je(C_,"0.3.8","esm2017")}();const zK="/firebase-messaging-sw.js",KK="/firebase-cloud-messaging-push-scope",gN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mN="google.c.a.c_id",YK="google.c.a.c_l",JK="google.c.a.ts",XK="google.c.a.e";var Yo=(()=>{return(t=Yo||(Yo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Yo;var t})();function Xr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ZK(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const k_="fcm_token_details_db",yN="fcm_token_object_Store";function t7(t){return N_.apply(this,arguments)}function N_(){return N_=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(k_))return null;let e=null;return(yield zd(k_,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(yN))return;const l=a.objectStore(yN),c=yield l.index("fcmSenderId").get(t);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Xr(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield jy(k_),yield jy("fcm_vapid_details_db"),yield jy("undefined"),n7(e)?e:null;var r}),N_.apply(this,arguments)}function n7(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const fs="firebase-messaging-store";let R_=null;function P_(){return R_||(R_=zd("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fs)}})),R_}function _N(t){return O_.apply(this,arguments)}function O_(){return(O_=m(function*(t){const e=U_(t),r=yield(yield P_()).transaction(fs).objectStore(fs).get(e);if(r)return r;{const i=yield t7(t.appConfig.senderId);if(i)return yield F_(t,i),i}})).apply(this,arguments)}function F_(t,e){return L_.apply(this,arguments)}function L_(){return(L_=m(function*(t,e){const n=U_(t),i=(yield P_()).transaction(fs,"readwrite");return yield i.objectStore(fs).put(e,n),yield i.done,e})).apply(this,arguments)}function s7(t){return V_.apply(this,arguments)}function V_(){return(V_=m(function*(t){const e=U_(t),r=(yield P_()).transaction(fs,"readwrite");yield r.objectStore(fs).delete(e),yield r.done})).apply(this,arguments)}function U_({appConfig:t}){return t.appId}const At=new Dr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function a7(t,e){return B_.apply(this,arguments)}function B_(){return(B_=m(function*(t,e){const n=yield G_(t),r=wN(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(H_(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function u7(t,e){return j_.apply(this,arguments)}function j_(){return(j_=m(function*(t,e){const n=yield G_(t),r=wN(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${H_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function vN(t,e){return $_.apply(this,arguments)}function $_(){return($_=m(function*(t,e){const r={method:"DELETE",headers:yield G_(t)};try{const s=yield(yield fetch(`${H_(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function H_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function G_(t){return q_.apply(this,arguments)}function q_(){return(q_=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function wN({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==gN&&(i.web.applicationPubKey=r),i}const l7=6048e5;function c7(t){return W_.apply(this,arguments)}function W_(){return(W_=m(function*(t){const e=yield h7(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xr(e.getKey("auth")),p256dh:Xr(e.getKey("p256dh"))},r=yield _N(t.firebaseDependencies);if(r){if(f7(r.subscriptionOptions,n))return Date.now()>=r.createTime+l7?d7(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield vN(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return IN(t.firebaseDependencies,n)}return IN(t.firebaseDependencies,n)})).apply(this,arguments)}function EN(t){return z_.apply(this,arguments)}function z_(){return(z_=m(function*(t){const e=yield _N(t.firebaseDependencies);e&&(yield vN(t.firebaseDependencies,e.token),yield s7(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function d7(t,e){return K_.apply(this,arguments)}function K_(){return(K_=m(function*(t,e){try{const n=yield u7(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield F_(t.firebaseDependencies,r),n}catch(n){throw yield EN(t),n}})).apply(this,arguments)}function IN(t,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=m(function*(t,e){const r={token:yield a7(t,e),createTime:Date.now(),subscriptionOptions:e};return yield F_(t,r),r.token})).apply(this,arguments)}function h7(t,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ZK(e)})})).apply(this,arguments)}function f7(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function bN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function p7(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function g7(t,e){!e.data||(t.data=e.data)}(e,t),function m7(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function y7(t){return"object"==typeof t&&!!t&&mN in t}function DN(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function J_(t){return At.create("missing-app-config-values",{valueName:t})}DN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),DN("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class v7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function _7(t){if(!t||!t.options)throw J_("App Configuration Object");if(!t.name)throw J_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw J_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function CN(t){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(zK,{scope:KK}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function w7(t,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=m(function*(t,e){if(!e&&!t.swRegistration&&(yield CN(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function E7(t,e){return ev.apply(this,arguments)}function ev(){return(ev=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=gN)})).apply(this,arguments)}function tv(){return(tv=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield E7(t,null==e?void 0:e.vapidKey),yield w7(t,null==e?void 0:e.serviceWorkerRegistration),c7(t)})).apply(this,arguments)}function I7(t,e,n){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(t,e,n){const r=b7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[mN],message_name:n[YK],message_time:n[JK],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function b7(t){switch(t){case Yo.NOTIFICATION_CLICKED:return"notification_open";case Yo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rv(){return(rv=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Yo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(bN(n)):t.onMessageHandler.next(bN(n)));const r=n.data;y7(r)&&"1"===r[XK]&&(yield I7(t,n.messageType,r))})).apply(this,arguments)}const AN="@firebase/messaging",C7=t=>{const e=new v7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function D7(t,e){return rv.apply(this,arguments)}(e,n)),e},T7=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function TN(t,e){return tv.apply(this,arguments)}(e,r)}};function xN(){return iv.apply(this,arguments)}function iv(){return(iv=m(function*(){try{yield Uu()}catch(t){return!1}return"undefined"!=typeof window&&as()&&My()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function A7(){en(new $t("messaging",C7,"PUBLIC")),en(new $t("messaging-internal",T7,"PRIVATE")),je(AN,"0.9.13"),je(AN,"0.9.13","esm2017")}();const eh="analytics",M7="firebase_id",R7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MN="https://www.googletagmanager.com/gtag/js",St=new zo("@firebase/analytics");function kN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P7(t,e){const n=document.createElement("script");n.src=`${MN}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function F7(t,e,n,r,i,s){return av.apply(this,arguments)}function av(){return(av=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield kN(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)})).apply(this,arguments)}function L7(t,e,n,r,i){return uv.apply(this,arguments)}function uv(){return(uv=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield kN(n);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}})).apply(this,arguments)}function B7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(MN))return e;return null}const xn=new Dr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),NN=new class G7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function q7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function W7(t){return lv.apply(this,arguments)}function lv(){return(lv=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:q7(r)},s=R7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function z7(t){return cv.apply(this,arguments)}function cv(){return(cv=m(function*(t,e=NN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Y7;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),RN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function RN(t,e,n){return dv.apply(this,arguments)}function dv(){return(dv=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=NN){const{appId:s,measurementId:o}=t;try{yield K7(r,e)}catch(a){if(o)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield W7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!Q7(a)){if(i.deleteThrottleMetadata(s),o)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Py(n,i.intervalMillis,30):Py(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,l),St.debug(`Calling attemptFetch again in ${u} millis`),RN(t,l,r,i)}})).apply(this,arguments)}function K7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Q7(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Y7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function J7(){return hv.apply(this,arguments)}function hv(){return(hv=m(function*(){if(!as())return St.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Uu()}catch(t){return St.warn(xn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function fv(){return(fv=m(function*(t,e,n,r,i,s,o){var a;const u=z7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const l=J7().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);B7()||P7(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[M7]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class Z7{constructor(e){this.app=e}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},PN=[];const ON={};let LN,$u,th="dataLayer",pv=!1;function t5(t,e,n){!function e5(){const t=[];if(qd()&&t.push("This is a browser extension environment."),My()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw xn.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[r])throw xn.create("already-exists",{id:r});if(!pv){!function O7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(th);const{wrappedGtag:s,gtagCore:o}=function U7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function V7(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield L7(t,e,n,a,u):"config"===o?yield F7(t,e,n,r,a,u):t("set",a)}catch(l){St.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Zr,PN,ON,th,"gtag");$u=s,LN=o,pv=!0}return Zr[r]=function X7(t,e,n,r,i,s,o){return fv.apply(this,arguments)}(t,PN,ON,e,LN,th,n),new Z7(t)}function gv(){return(gv=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function u5(){return wv.apply(this,arguments)}function wv(){return(wv=m(function*(){if(qd()||!My()||!as())return!1;try{return yield Uu()}catch(t){return!1}})).apply(this,arguments)}const VN="@firebase/analytics";!function c5(){en(new $t(eh,(e,{options:n})=>t5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),en(new $t("analytics-internal",function t(e){try{const n=e.getProvider(eh).getImmediate();return{logEvent:(r,i,s)=>function l5(t,e,n,r){t=Hn(t),function n5(t,e,n,r,i){return gv.apply(this,arguments)}($u,Zr[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),je(VN,"0.7.9"),je(VN,"0.7.9","esm2017")}();class d5 extends yn{constructor(e,n){super()}schedule(e,n=0){return this}}const nh={setInterval(t,e,...n){const{delegate:r}=nh;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=nh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class BN extends d5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return nh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;nh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const jN={now:()=>(jN.delegate||Date).now(),delegate:void 0};class Hu{constructor(e,n=Hu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Hu.now=jN.now;class $N extends Hu{constructor(e,n=Hu.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const p5=new class f5 extends $N{}(class h5 extends BN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),g5=new $N(BN);function fn(t,e,n){const r=ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?bt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ct(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Wi}const Ev=new Ho("7.3.0"),Iv="__angularfire_symbol__analyticsIsSupportedValue",bv="__angularfire_symbol__analyticsIsSupported",Dv="__angularfire_symbol__remoteConfigIsSupportedValue",Cv="__angularfire_symbol__remoteConfigIsSupported",Tv="__angularfire_symbol__messagingIsSupportedValue",Av="__angularfire_symbol__messagingIsSupported";globalThis[bv]||(globalThis[bv]=u5().then(t=>globalThis[Iv]=t).catch(()=>globalThis[Iv]=!1)),globalThis[Av]||(globalThis[Av]=xN().then(t=>globalThis[Tv]=t).catch(()=>globalThis[Tv]=!1)),globalThis[Cv]||(globalThis[Cv]=WK().then(t=>globalThis[Dv]=t).catch(()=>globalThis[Dv]=!1));const Mv=(t,e)=>{const n=e?[e]:$k(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Jo(){}class HN{constructor(e,n=p5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class m5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)),n.pipe(fn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let GN=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new HN(Zone.current)),this.insideAngular=n.run(()=>new HN(Zone.current,g5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(We))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ps(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function y5(t){return ps().ngZone.runOutsideAngular(()=>t())}function gs(t){return ps().ngZone.run(()=>t())}function _5(t){return ps(),function v5(t){return function(n){return(n=n.lift(new m5(t.ngZone))).pipe(Ic(t.outsideAngular),Ec(t.insideAngular))}}(ps())(t)}const w5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),gs(()=>t.apply(void 0,r))},kv=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=gs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)))),r[s]=w5(r[s],n));const i=y5(()=>t.apply(this,r));if(!e){if(i instanceof Ne){const s=ps();return i.pipe(Ic(s.outsideAngular),Ec(s.insideAngular))}return gs(()=>i)}return i instanceof Ne?i.pipe(_5):i instanceof Promise?gs(()=>new Promise((s,o)=>i.then(a=>gs(()=>s(a)),a=>gs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:gs(()=>i)};class Xo{constructor(e){return e}}class qN{constructor(){return $k()}}const Nv=new z("angularfire2._apps"),I5={provide:Xo,useFactory:function E5(t){return t&&1===t.length?t[0]:new Xo(jk())},deps:[[new pt,Nv]]},b5={provide:qN,deps:[[new pt,Nv]]};function D5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xo(r)}}let C5=(()=>{class t{constructor(n){je("angularfire",Ev.full,"core"),je("angularfire",Ev.full,"app"),je("angular",Hx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(Cd))},t.\u0275mod=wn({type:t}),t.\u0275inj=un({providers:[I5,b5]}),t})();function T5(t,...e){return{ngModule:C5,providers:[{provide:Nv,useFactory:D5(t),multi:!0,deps:[We,Bt,GN,...e]}]}}const A5=kv(b6,!0);const S5=function WN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zN=new Dr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),KN=new zo("@firebase/auth");function rh(t,...e){KN.logLevel<=ue.ERROR&&KN.error(`Auth (9.8.1): ${t}`,...e)}function pn(t,...e){throw Rv(t,...e)}function Cr(t,...e){return Rv(t,...e)}function QN(t,e,n){const r=Object.assign(Object.assign({},S5()),{[e]:n});return new Dr("auth","Firebase",r).create(e,{appName:t.name})}function Rv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zN.create(t,...e)}function A(t,e,...n){if(!t)throw Rv(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function bi(t,e){t||Tr(e)}const YN=new Map;function ei(t){bi(t instanceof Function,"Expected a class definition");let e=YN.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YN.set(t,e),e)}function JN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=xk()||Mk()}get(){return function k5(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Pv(){return"http:"===JN()||"https:"===JN()}()||qd()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class XN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},P5=new qu(3e4,6e4);function gt(t,e,n,r){return Fv.apply(this,arguments)}function Fv(){return(Fv=m(function*(t,e,n,r,i={}){return ZN(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Rk(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),XN.fetch()(eR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function ZN(t,e,n){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},R5),e);try{const i=new O5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ih(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ih(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ih(t,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QN(t,c,l);pn(t,c)}}catch(i){if(i instanceof Qr)throw i;pn(t,"network-request-failed")}})).apply(this,arguments)}function eR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Ov(t,e){bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class O5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),P5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function Uv(){return(Uv=m(function*(t,e){return gt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function V5(t,e){return jv.apply(this,arguments)}function jv(){return(jv=m(function*(t,e){return gt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function $v(){return($v=m(function*(t,e=!1){const n=Hn(t),r=yield n.getIdToken(e),i=sh(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wu(Hv(i.auth_time)),issuedAtTime:Wu(Hv(i.iat)),expirationTime:Wu(Hv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Hv(t){return 1e3*Number(t)}function sh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Ay.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i),null}}function ni(t,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Qr&&j5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function j5({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class $5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class tR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zu(t){return qv.apply(this,arguments)}function qv(){return(qv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ni(t,V5(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?q5(s.providerUserInfo):[],a=G5(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function Wv(){return(Wv=m(function*(t){const e=Hn(t);yield zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function G5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q5(t){return t.map(e=>{var{providerId:n}=e,r=XC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zv(){return(zv=m(function*(t,e){const n=yield ZN(t,{},m(function*(){const r=Rk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function B5(t){const e=sh(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function W5(t,e){return zv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ku;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ku,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function Di(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=XC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ni(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function U5(t){return $v.apply(this,arguments)}(this,e)}reload(){return function H5(t){return Wv.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield zu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ni(e,function F5(t,e){return Uv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:P,isAnonymous:O,providerData:Z,stsTokenManager:Ae}=n;A(T&&Ae,e,"internal-error");const cr=Ku.fromJSON(this.name,Ae);A("string"==typeof T,e,"internal-error"),Di(d,e.name),Di(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),Di(f,e.name),Di(p,e.name),Di(g,e.name),Di(_,e.name),Di(E,e.name),Di(y,e.name);const to=new ms({uid:T,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:cr,createdAt:E,lastLoginAt:y});return Z&&Array.isArray(Z)&&(to.providerData=Z.map(mc=>Object.assign({},mc))),_&&(to._redirectEventId=_),to}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Ku;i.updateFromServerResponse(n);const s=new ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zu(s),s})()}}const nR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,s),this.fullPersistenceKey=oh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ms._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new ea(ei(nR),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||ei(nR);const o=oh(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=yield l._get(o);if(c){const d=ms._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new ea(s,e,r)):new ea(s,e,r)})()}}function rR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function oR(t=Sn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function iR(t=Sn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function uR(t=Sn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function lR(t=Sn()){return/webos/i.test(t)}(e))return"Webos";if(function Kv(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function sR(t=Sn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function aR(t=Sn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function cR(t,e=[]){let n;switch(t){case"Browser":n=rR(Sn());break;case"Worker":n=`${rR(Sn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.8.1/${e.length?e.join(","):"FirebaseCore-web"}`}class Q5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class Y5{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dR(this),this.idTokenSubscription=new dR(this),this.beforeStateQueue=new Q5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ea.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===u)&&(null==l?void 0:l.user)&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield zu(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function N5(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Hn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ei(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ei(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield ea.create(n,[ei(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class dR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function E4(t,e){const n=new I4(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function MR(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new qu(3e4,6e4),new qu(2e3,1e4),new qu(3e4,6e4),new qu(5e3,15e3);var $R="@firebase/auth";class UQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function jQ(t){en(new $t("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cR(t)},c=new Y5(a,u,l);return function M5(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new $t("auth-internal",e=>{const n=function gn(t){return Hn(t)}(e.getProvider("auth").getImmediate());return new UQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je($R,"0.20.1",function BQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),je($R,"0.20.1","esm2017")}("Browser");class qR{constructor(){return Mv("auth")}}const WR=new Map,qQ={activated:!1,tokenObservers:[]},WQ={initialized:!1,enabled:!1};function mt(t){return WR.get(t)||qQ}function or(t,e){WR.set(t,e)}function _h(){return WQ}class JQ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new xy,yield function XQ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new xy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tn=new Dr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function KR(t){if(!mt(t).activated)throw tn.create("use-before-activation",{appName:t.name})}function NE(t,e){return RE.apply(this,arguments)}function RE(){return(RE=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw tn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw tn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function rY(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Zu="firebase-app-check-store";let Eh=null;function YR(){return Eh||(Eh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zu,{keyPath:"compositeKey"})}}catch(n){e(tn.create("storage-open",{originalErrorMessage:n.message}))}}),Eh)}function PE(){return(PE=m(function*(t,e){const r=(yield YR()).transaction(Zu,"readwrite"),s=r.objectStore(Zu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(tn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const el=new zo("@firebase/app-check");function e1(t,e){return as()?function aY(t,e){return function JR(t,e){return PE.apply(this,arguments)}(function ZR(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{el.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function t1(){return _h().enabled}function n1(){return VE.apply(this,arguments)}function VE(){return(VE=m(function*(){const t=_h();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fY={error:"UNKNOWN_ERROR"};function pY(t){return Ay.encodeString(JSON.stringify(t),!1)}function Ih(t){return UE.apply(this,arguments)}function UE(){return(UE=m(function*(t,e=!1){const n=t.app;KR(n);const r=mt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&bh(u)&&(i=u)}if(!e&&i&&bh(i))return{token:i.token};let a,o=!1;if(t1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=NE(rY(n,yield n1()),t.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield e1(n,u),or(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?el.warn(u.message):el.error(u),s=u}return i?(a={token:i.token},or(n,Object.assign(Object.assign({},r),{token:i})),yield e1(n,i)):a=mY(s),o&&i1(n,a),a})).apply(this,arguments)}function jE(t,e){const n=mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),or(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function r1(t){const{app:e}=t,n=mt(e);let r=n.tokenRefresher;r||(r=function gY(t){const{app:e}=t;return new JQ(m(function*(){let r;if(r=mt(e).token?yield Ih(t,!0):yield Ih(t),r.error)throw r.error}),()=>!0,()=>{const n=mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),or(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function i1(t,e){const n=mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function bh(t){return t.expireTimeMillis-Date.now()>0}function mY(t){return{token:pY(fY),error:t}}class yY{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=mt(this.app);for(const n of e)jE(this.app,n.next);return Promise.resolve()}}const h1="app-check-internal";!function kY(){en(new $t("app-check",t=>function _Y(t,e){return new yY(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(h1).initialize()})),en(new $t(h1,t=>function vY(t){return{getToken:e=>Ih(t,e),addTokenListener:e=>function BE(t,e,n,r){const{app:i}=t,s=mt(i),o={next:n,error:r,type:e};if(or(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&bh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),r1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>r1(t))}(t,"INTERNAL",e),removeTokenListener:e=>jE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),je("@firebase/app-check","0.5.8")}();class p1{constructor(){return Mv("app-check")}}"undefined"!=typeof window&&window;var N,FY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ii={},WE=WE||{},H=FY||self;function Ch(){}function zE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var KE="closure_uid_"+(1e9*Math.random()>>>0),VY=0;function UY(t,e,n){return t.call.apply(t.bind,arguments)}function BY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?UY:BY).apply(null,arguments)}function Th(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ci(){this.s=this.s,this.o=this.o}var $Y={};Ci.prototype.s=!1,Ci.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function LY(t){return Object.prototype.hasOwnProperty.call(t,KE)&&t[KE]||(t[KE]=++VY)}(this);delete $Y[t]}},Ci.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const g1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},m1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function y1(t){return Array.prototype.concat.apply([],arguments)}function QE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ah(t){return/^[\s\xa0]*$/.test(t)}var rn,_1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nn(t,e){return-1!=t.indexOf(e)}function YE(t,e){return t<e?-1:t>e?1:0}e:{var v1=H.navigator;if(v1){var w1=v1.userAgent;if(w1){rn=w1;break e}}rn=""}function JE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function E1(t){const e={};for(const n in t)e[n]=t[n];return e}var I1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<I1.length;s++)n=I1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function XE(t){return XE[" "](t),t}XE[" "]=Ch;var Sh,t,qY=nn(rn,"Opera"),ta=nn(rn,"Trident")||nn(rn,"MSIE"),D1=nn(rn,"Edge"),ZE=D1||ta,C1=nn(rn,"Gecko")&&!(nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge"))&&!(nn(rn,"Trident")||nn(rn,"MSIE"))&&!nn(rn,"Edge"),WY=nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge");function T1(){var t=H.document;return t?t.documentMode:void 0}e:{var eI="",tI=(t=rn,C1?/rv:([^\);]+)(\)|;)/.exec(t):D1?/Edge\/([\d\.]+)/.exec(t):ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):WY?/WebKit\/(\S+)/.exec(t):qY?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(tI&&(eI=tI?tI[1]:""),ta){var nI=T1();if(null!=nI&&nI>parseFloat(eI)){Sh=String(nI);break e}}Sh=eI}var zY={};var QY=H.document&&ta&&(T1()||parseInt(Sh,10))||void 0,YY=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",Ch,e),H.removeEventListener("test",Ch,e)}catch(n){}return t}();function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function nl(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(C1){e:{try{XE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:JY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nl.Z.h.call(this)}}Ht.prototype.h=function(){this.defaultPrevented=!0},Mt(nl,Ht);var JY={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rl="closure_listenable_"+(1e6*Math.random()|0),XY=0;function ZY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++XY,this.ca=this.fa=!1}function xh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Mh(t){this.src=t,this.g={},this.h=0}function iI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=g1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function sI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Mh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=sI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new ZY(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var oI="closure_lm_"+(1e6*Math.random()|0),aI={};function S1(t,e,n,r,i){if(r&&r.once)return M1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)S1(t,e[s],n,r,i);return null}return n=dI(n),t&&t[rl]?t.N(e,n,tl(r)?!!r.capture:!!r,i):x1(t,e,n,!1,r,i)}function x1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tl(i)?!!i.capture:!!i,a=lI(t);if(a||(t[oI]=a=new Mh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function eJ(){var e=tJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)YY||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(N1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function M1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)M1(t,e[s],n,r,i);return null}return n=dI(n),t&&t[rl]?t.O(e,n,tl(r)?!!r.capture:!!r,i):x1(t,e,n,!0,r,i)}function k1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)k1(t,e[s],n,r,i);else r=tl(r)?!!r.capture:!!r,n=dI(n),t&&t[rl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=sI(s=t.g[e],n,r,i))&&(xh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=lI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sI(e,n,r,i)),(n=-1<t?e[t]:null)&&uI(n))}function uI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[rl])iI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(N1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lI(e))?(iI(n,t),0==n.h&&(n.src=null,e[oI]=null)):xh(t)}}}function N1(t){return t in aI?aI[t]:aI[t]="on"+t}function tJ(t,e){if(t.ca)t=!0;else{e=new nl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&uI(t),t=n.call(r,e)}return t}function lI(t){return(t=t[oI])instanceof Mh?t:null}var cI="__closure_events_fn_"+(1e9*Math.random()>>>0);function dI(t){return"function"==typeof t?t:(t[cI]||(t[cI]=function(e){return t.handleEvent(e)}),t[cI])}function yt(){Ci.call(this),this.i=new Mh(this),this.P=this,this.I=null}function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;b1(e=new Ht(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kh(o,r,!0,e)&&i}if(i=kh(o=e.g=t,r,!0,e)&&i,i=kh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=kh(o=e.g=n[s],r,!1,e)&&i}function kh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&iI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mt(yt,Ci),yt.prototype[rl]=!0,yt.prototype.removeEventListener=function(t,e,n,r){k1(this,t,e,n,r)},yt.prototype.M=function(){if(yt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xh(n[r]);delete t.g[e],t.h--}}this.I=null},yt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var hI=H.JSON.stringify;function nJ(){var t=P1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var pI,R1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new iJ,t=>t.reset());class iJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sJ(t){H.setTimeout(()=>{throw t},0)}function fI(t,e){pI||function oJ(){var t=H.Promise.resolve(void 0);pI=function(){t.then(aJ)}}(),gI||(pI(),gI=!0),P1.add(t,e)}var gI=!1,P1=new class rJ{constructor(){this.h=this.g=null}add(e,n){const r=R1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function aJ(){for(var t;t=nJ();){try{t.h.call(t.g)}catch(n){sJ(n)}var e=R1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gI=!1}function Nh(t,e){yt.call(this),this.h=t||1,this.g=e||H,this.j=xt(this.kb,this),this.l=Date.now()}function mI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function yI(t,e,n){if("function"==typeof t)n&&(t=xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function O1(t){t.g=yI(()=>{t.g=null,t.i&&(t.i=!1,O1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mt(Nh,yt),(N=Nh.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(mI(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){Nh.Z.M.call(this),mI(this),delete this.g};class uJ extends Ci{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:O1(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(t){Ci.call(this),this.h=t,this.g={}}Mt(il,Ci);var F1=[];function L1(t,e,n,r){Array.isArray(n)||(n&&(F1[0]=n.toString()),n=F1);for(var i=0;i<n.length;i++){var s=S1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function V1(t){JE(t.g,function(e,n){this.g.hasOwnProperty(n)&&uI(e)},t),t.g={}}function Rh(){this.g=!0}function na(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return hI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}il.prototype.M=function(){il.Z.M.call(this),V1(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rh.prototype.Aa=function(){this.g=!1},Rh.prototype.info=function(){};var ws={},U1=null;function Ph(){return U1=U1||new yt}function B1(t){Ht.call(this,ws.Ma,t)}function sl(t){const e=Ph();kt(e,new B1(e,t))}function j1(t,e){Ht.call(this,ws.STAT_EVENT,t),this.stat=e}function sn(t){const e=Ph();kt(e,new j1(e,t))}function $1(t,e){Ht.call(this,ws.Na,t),this.size=e}function ol(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}ws.Ma="serverreachability",Mt(B1,Ht),ws.STAT_EVENT="statevent",Mt(j1,Ht),ws.Na="timingevent",Mt($1,Ht);var Oh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},H1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _I(){}function q1(){}_I.prototype.h=null;var EI,al={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vI(){Ht.call(this,"d")}function wI(){Ht.call(this,"c")}function Fh(){}function ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new il(this),this.P=fJ,this.W=new Nh(t=ZE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new W1}function W1(){this.i=null,this.g="",this.h=!1}Mt(vI,Ht),Mt(wI,Ht),Mt(Fh,_I),Fh.prototype.g=function(){return new XMLHttpRequest},Fh.prototype.i=function(){return{}},EI=new Fh;var fJ=45e3,II={},Lh={};function bI(t,e,n){t.K=1,t.v=$h(si(e)),t.s=n,t.U=!0,z1(t,null)}function z1(t,e){t.F=Date.now(),ll(t),t.A=si(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),nP(n.h,"t",r),t.C=0,n=t.l.H,t.h=new W1,t.g=CP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new uJ(xt(t.Ia,t,t.g),t.O)),L1(t.V,t.g,"readystatechange",t.gb),e=t.H?E1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),sl(1),function lJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function K1(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Q1(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=pJ(t,n),i==Lh){4==e&&(t.o=4,sn(14),r=!1),na(t.j,t.m,null,"[Incomplete Response]");break}if(i==II){t.o=4,sn(15),na(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}na(t.j,t.m,i,null),DI(t,i)}K1(t)&&i!=Lh&&i!=II&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),OI(e),e.L=!0,sn(11))):(na(t.j,t.m,n,"[Invalid Chunked Response]"),Es(t),cl(t))}function pJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Lh:(n=Number(e.substring(n,r)),isNaN(n)?II:(r+=1)+n>e.length?Lh:(e=e.substr(r,n),t.C=r+n,e))}function ll(t){t.Y=Date.now()+t.P,Y1(t,t.P)}function Y1(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ol(xt(t.eb,t),e)}function Vh(t){t.B&&(H.clearTimeout(t.B),t.B=null)}function cl(t){0==t.l.G||t.I||EP(t.l,t)}function Es(t){Vh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,mI(t.W),V1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function DI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||AI(n.i,t)))if(n.I=t.N,!t.J&&AI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ol(xt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Kh(n),Wh(n)}PI(n),sn(18)}if(1>=sP(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else Ds(n,11)}else if((t.J||n.g==t)&&Kh(n),!Ah(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const c=l[3];null!=c&&(n.ma=c,n.h.info("VER="+n.ma));const d=l[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(nn(p,"spdy")||nn(p,"quic")||nn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(SI(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Me(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=DP(r,r.H?r.la:null,r.W),o.J){oP(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Vh(a),ll(a)),r.g=o}else vP(r);0<n.l.length&&zh(n)}else"stop"!=l[0]&&"close"!=l[0]||Ds(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ds(n,7):NI(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}sl(4)}catch(l){}}function CI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zE(t)||"string"==typeof t)m1(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(zE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function gJ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(zE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ra(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ra)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function TI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Is(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Is(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Is(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=ul.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;const e=this.L;e&&3==oi(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)e:{const c=oi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||ZE||this.g&&(this.h.h||this.g.ga()||pP(this.g)))){this.I||4!=c||7==e||sl(8==e||0>=d?3:2),Vh(this);var n=this.g.ba();this.N=n;t:if(K1(this)){var r=pP(this.g);t="";var i=r.length,s=4==oi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Es(this),cl(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function cJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ah(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,sn(12),Es(this),cl(this);break e}na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,DI(this,n)}this.U?(Q1(this,c,o),ZE&&this.i&&3==c&&(L1(this.V,this.W,"tick",this.fb),this.W.start())):(na(this.j,this.m,o,null),DI(this,o)),4==c&&Es(this),this.i&&!this.I&&(4==c?EP(this.l,this):(this.i=!1,ll(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Es(this),cl(this)}}}catch(c){}},N.fb=function(){if(this.g){var t=oi(this.g),e=this.g.ga();this.C<e.length&&(Vh(this),Q1(this,t,e),this.i&&4!=t&&ll(this))}},N.cancel=function(){this.I=!0,Es(this)},N.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function dJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(sl(3),sn(17)),Es(this),this.o=2,cl(this)):Y1(this,this.Y-t)},(N=ra.prototype).R=function(){TI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return TI(this),this.g.concat()},N.get=function(t,e){return Is(this.h,t)?this.h[t]:e},N.set=function(t,e){Is(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var J1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bs(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof bs){this.g=void 0!==e?e:t.g,Uh(this,t.j),this.s=t.s,Bh(this,t.i),jh(this,t.m),this.l=t.l,e=t.h;var n=new fl;n.i=e.i,e.g&&(n.g=new ra(e.g),n.h=e.h),X1(this,n),this.o=t.o}else t&&(n=String(t).match(J1))?(this.g=!!e,Uh(this,n[1]||"",!0),this.s=dl(n[2]||""),Bh(this,n[3]||"",!0),jh(this,n[4]),this.l=dl(n[5]||"",!0),X1(this,n[6]||"",!0),this.o=dl(n[7]||"")):(this.g=!!e,this.h=new fl(null,this.g))}function si(t){return new bs(t)}function Uh(t,e,n){t.j=n?dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bh(t,e,n){t.i=n?dl(e,!0):e}function jh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function X1(t,e,n){e instanceof fl?(t.h=e,function DJ(t,e){e&&!t.j&&(Ti(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eP(this,r),nP(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=hl(e,IJ)),t.h=new fl(e,t.g))}function Me(t,e,n){t.h.set(e,n)}function $h(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,vJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vJ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hl(e,Z1,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hl(e,Z1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(hl(n,"/"==n.charAt(0)?EJ:wJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hl(n,bJ)),t.join("")};var Z1=/[#\/\?@]/g,wJ=/[#\?:]/g,EJ=/[#\?]/g,IJ=/[#\?@]/g,bJ=/#/g;function fl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ti(t){t.g||(t.g=new ra,t.h=0,t.i&&function mJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function eP(t,e){Ti(t),e=ia(t,e),Is(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Is((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&TI(t)))}function tP(t,e){return Ti(t),e=ia(t,e),Is(t.g.h,e)}function nP(t,e,n){eP(t,e),0<n.length&&(t.i=null,t.g.set(ia(t,e),QE(n)),t.h+=n.length)}function ia(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rP(t){this.l=t||TJ,t=H.PerformanceNavigationTiming?0<(t=H.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=fl.prototype).add=function(t,e){Ti(this),this.i=null,t=ia(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Ti(this),this.g.forEach(function(n,r){m1(n,function(i){t.call(e,i,r,this)},this)},this)},N.T=function(){Ti(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},N.R=function(t){Ti(this);var e=[];if("string"==typeof t)tP(this,t)&&(e=y1(e,this.g.get(ia(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=y1(e,t[n])}return e},N.set=function(t,e){return Ti(this),this.i=null,tP(this,t=ia(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var TJ=10;function iP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function sP(t){return t.h?1:t.g?t.g.size:0}function AI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function SI(t,e){t.g?t.g.add(e):t.h=e}function oP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function aP(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return QE(t.i)}function xI(){}function AJ(){this.g=new xI}function SJ(t,e,n){const r=n||"";try{CI(t,function(i,s){let o=i;tl(i)&&(o=hI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function pl(t){this.l=t.$b||null,this.j=t.ib||!1}function Gh(t,e){yt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=MI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rP.prototype.cancel=function(){if(this.i=aP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},xI.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)},xI.prototype.parse=function(t){return H.JSON.parse(t,void 0)},Mt(pl,_I),pl.prototype.g=function(){return new Gh(this.l,this.j)},pl.prototype.i=function(t){return function(){return t}}({}),Mt(Gh,yt);var MI=0;function uP(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ml(t)}function ml(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Gh.prototype).open=function(t,e){if(this.readyState!=MI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ml(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gl(this)),this.readyState=MI},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==H.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uP(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gl(this):ml(this),3==this.readyState&&uP(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,gl(this))},N.Ta=function(t){this.g&&(this.response=t,gl(this))},N.ha=function(){this.g&&gl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Gh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var MJ=H.JSON.parse;function Qe(t){yt.call(this),this.headers=new ra,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lP,this.K=this.L=!1}Mt(Qe,yt);var lP="",kJ=/^https?$/i,NJ=["POST","PUT"];function PJ(t){return"content-type"==t.toLowerCase()}function cP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dP(t),qh(t)}function dP(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}function hP(t){if(t.h&&void 0!==WE&&(!t.C[1]||4!=oi(t)||2!=t.ba()))if(t.v&&4==oi(t))yI(t.Fa,0,t);else if(kt(t,"readystatechange"),4==oi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(J1)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!kJ.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var o=2<oi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",dP(t)}}finally{qh(t)}}}function qh(t,e){if(t.g){fP(t);const n=t.g,r=t.C[0]?Ch:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function fP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function oi(t){return t.g?t.g.readyState:0}function pP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case lP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function kI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function OJ(t){let e="";return JE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function yl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gP(t){this.za=0,this.l=[],this.h=new Rh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yl("baseRetryDelayMs",5e3,t),this.$a=yl("retryDelaySeedMs",1e4,t),this.Ya=yl("forwardChannelMaxRetries",2,t),this.ra=yl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rP(t&&t.concurrentRequestLimit),this.Ca=new AJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function NI(t){if(mP(t),3==t.G){var e=t.V++,n=si(t.F);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),_l(t,n),(e=new ul(t,t.h,e,void 0)).K=2,e.v=$h(si(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&((new Image).src=e.v,n=!0),n||(e.g=CP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ll(e)}bP(t)}function Wh(t){t.g&&(OI(t),t.g.cancel(),t.g=null)}function mP(t){Wh(t),t.u&&(H.clearTimeout(t.u),t.u=null),Kh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&H.clearTimeout(t.m),t.m=null)}function RI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&zh(t)}function zh(t){iP(t.i)||t.m||(t.m=!0,fI(t.Ha,t),t.C=0)}function yP(t,e){var n;n=e?e.m:t.V++;const r=si(t.F);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.U),_l(t,r),t.o&&t.s&&kI(r,t.o,t.s),n=new ul(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=_P(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),SI(t.i,n),bI(n,r,e)}function _l(t,e){t.j&&CI({},function(n,r){Me(e,r,n)})}function _P(t,e,n){n=Math.min(t.l.length,n);var r=t.j?xt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{SJ(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function vP(t){t.g||t.u||(t.Y=1,fI(t.Ga,t),t.A=0)}function PI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ol(xt(t.Ga,t),IP(t,t.A)),t.A++,0))}function OI(t){null!=t.B&&(H.clearTimeout(t.B),t.B=null)}function wP(t){t.g=new ul(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=si(t.oa);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.N?"0":"1"),Me(e,"AID",t.U),_l(t,e),Me(e,"TYPE","xmlhttp"),t.o&&t.s&&kI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=$h(si(e)),n.s=null,n.U=!0,z1(n,t)}function Kh(t){null!=t.v&&(H.clearTimeout(t.v),t.v=null)}function EP(t,e){var n=null;if(t.g==e){Kh(t),OI(t),t.g=null;var r=2}else{if(!AI(t.i,e))return;n=e.D,oP(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;kt(r=Ph(),new $1(r,n,e,i)),zh(t)}else vP(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function FJ(t,e){return!(sP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ol(xt(t.Ha,t,e),IP(t,t.C)),t.C++,0)))}(t,e)||2==r&&PI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ds(t,5);break;case 4:Ds(t,10);break;case 3:Ds(t,6);break;default:Ds(t,2)}}function IP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ds(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=xt(t.jb,t);n||(n=new bs("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||Uh(n,"https"),$h(n)),function xJ(t,e){const n=new Rh;if(H.Image){const r=new Image;r.onload=Th(Hh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Th(Hh,n,r,"TestLoadImage: error",!1,e),r.onabort=Th(Hh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Th(Hh,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.G=0,t.j&&t.j.va(e),bP(t),mP(t)}function bP(t){t.G=0,t.I=-1,t.j&&((0!=aP(t.i).length||0!=t.l.length)&&(t.i.i.length=0,QE(t.l),t.l.length=0),t.j.ua())}function DP(t,e,n){let r=function yJ(t){return t instanceof bs?si(t):new bs(t,void 0)}(n);if(""!=r.i)e&&Bh(r,e+"."+r.i),jh(r,r.m);else{const i=H.location;r=function _J(t,e,n,r){var i=new bs(null,void 0);return t&&Uh(i,t),e&&Bh(i,e),n&&jh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&JE(t.aa,function(i,s){Me(r,s,i)}),n=t.sa,(e=t.D)&&n&&Me(r,e,n),Me(r,"VER",t.ma),_l(t,r),r}function CP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(n&&t.Ba&&!t.qa?new pl({ib:!0}):t.qa)).L=t.H,e}function TP(){}function Qh(){if(ta&&!(10<=Number(QY)))throw Error("Environmental error: no available transport.")}function Mn(t,e){yt.call(this),this.g=new gP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ah(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ah(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new sa(this)}function AP(t){vI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function SP(){wI.call(this),this.status=1}function sa(t){this.g=t}(N=Qe.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():EI.g(),this.C=function G1(t){return t.h||(t.h=t.i())}(this.u?this.u:EI),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void cP(this,s)}t=n||"";const i=new ra(this.headers);r&&CI(r,function(s,o){i.set(o,s)}),r=function HY(t){e:{var e=PJ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=H.FormData&&t instanceof H.FormData,!(0<=g1(NJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fP(this),0<this.B&&((this.K=function RJ(t){return ta&&function KY(){return function GY(t){var e=zY;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=_1(String(Sh)).split("."),n=_1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=YE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||YE(0==i[2].length,0==s[2].length)||YE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=yI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cP(this,s)}},N.pa=function(){void 0!==WE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),qh(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qh(this,!0)),Qe.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?hP(this):this.cb())},N.cb=function(){hP(this)},N.ba=function(){try{return 2<oi(this)?this.g.status:-1}catch(t){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),MJ(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=gP.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ul(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=E1(s),b1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_P(this,i,e),Me(n=si(this.F),"RID",t),Me(n,"CVER",22),this.D&&Me(n,"X-HTTP-Session-Id",this.D),_l(this,n),this.o&&s&&kI(n,this.o,s),SI(this.i,i),this.Ra&&Me(n,"TYPE","init"),this.ja?(Me(n,"$req",e),Me(n,"SID","null"),i.$=!0,bI(i,n,null)):bI(i,n,e),this.G=2}}else 3==this.G&&(t?yP(this,t):0==this.l.length||iP(this.i)||yP(this))},N.Ga=function(){if(this.u=null,wP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ol(xt(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sn(10),Wh(this),wP(this))},N.ab=function(){null!=this.v&&(this.v=null,Wh(this),PI(this),sn(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),sn(2)):(this.h.info("Failed to ping google.com"),sn(1))},(N=TP.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},Qh.prototype.g=function(t,e){return new Mn(t,e)},Mt(Mn,yt),Mn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),fI(xt(t.hb,t,e))),sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=DP(t,null,t.W),zh(t)},Mn.prototype.close=function(){NI(this.g)},Mn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,RI(this.g,e)}else this.v?((e={}).__data__=hI(t),RI(this.g,e)):RI(this.g,t)},Mn.prototype.M=function(){this.g.j=null,delete this.j,NI(this.g),delete this.g,Mn.Z.M.call(this)},Mt(AP,vI),Mt(SP,wI),Mt(sa,TP),sa.prototype.xa=function(){kt(this.g,"a")},sa.prototype.wa=function(t){kt(this.g,new AP(t))},sa.prototype.va=function(t){kt(this.g,new SP(t))},sa.prototype.ua=function(){kt(this.g,"b")},Qh.prototype.createWebChannel=Qh.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Oh.NO_ERROR=0,Oh.TIMEOUT=8,Oh.HTTP_ERROR=6,H1.COMPLETE="complete",q1.EventType=al,al.OPEN="a",al.CLOSE="b",al.ERROR="c",al.MESSAGE="d",yt.prototype.listen=yt.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.La,Qe.prototype.getLastErrorCode=Qe.prototype.Da,Qe.prototype.getStatus=Qe.prototype.ba,Qe.prototype.getResponseJson=Qe.prototype.Qa,Qe.prototype.getResponseText=Qe.prototype.ga,Qe.prototype.send=Qe.prototype.ea;var LJ=ii.createWebChannelTransport=function(){return new Qh},VJ=ii.getStatEventTarget=function(){return Ph()},FI=ii.ErrorCode=Oh,UJ=ii.EventType=H1,BJ=ii.Event=ws,xP=ii.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jJ=ii.FetchXmlHttpFactory=pl,Yh=ii.WebChannel=q1,$J=ii.XhrIo=Qe;const MP="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let oa="9.8.0";const Ai=new zo("@firebase/firestore");function LI(){return Ai.logLevel}function C(t,...e){if(Ai.logLevel<=ue.DEBUG){const n=e.map(VI);Ai.debug(`Firestore (${oa}): ${t}`,...n)}}function Ye(t,...e){if(Ai.logLevel<=ue.ERROR){const n=e.map(VI);Ai.error(`Firestore (${oa}): ${t}`,...n)}}function Jh(t,...e){if(Ai.logLevel<=ue.WARN){const n=e.map(VI);Ai.warn(`Firestore (${oa}): ${t}`,...n)}}function VI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function j(t,e){t||R()}function x(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class kP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class qJ{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _t,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _t)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new kP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Nt(e)}}class WJ{constructor(e,n,r){this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class zJ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new WJ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.p=n.token,new NP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class kn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function QJ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}kn.A=-1;class RP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Je(0,0))}static max(){return new V(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function OP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vl{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===vl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends vl{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const YJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends vl{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return YJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}class ua{constructor(e){this.fields=e,e.sort(vt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new at(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const JJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(j(!!t),"string"==typeof t){let e=0;const n=JJ.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ts(t){return"string"==typeof t?at.fromBase64String(t):at.fromUint8Array(t)}function UI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function LP(t){const e=t.mapValue.fields.__previous_value__;return UI(e)?LP(e):e}function wl(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}class XJ{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class xi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xi&&e.projectId===this.projectId&&e.database===this.database}}function El(t){return null==t}function Il(t){return 0===t&&1/t==-1/0}class S{constructor(e){this.path=e}static fromPath(e){return new S(le.fromString(e))}static fromName(e){return new S(le.fromString(e).popFirst(5))}static empty(){return new S(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new le(e.slice()))}}const Mi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?UI(t)?4:$P(t)?9007199254740991:10:R()}function Ar(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wl(t).isEqual(wl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Si(r.timestampValue),o=Si(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ts(t.bytesValue).isEqual(Ts(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ve(r.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ve(r.integerValue)===Ve(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ve(r.doubleValue),o=Ve(i.doubleValue);return s===o?Il(s)===Il(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(OP(s)!==OP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ar(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function bl(t,e){return void 0!==(t.values||[]).find(n=>Ar(n,e))}function ki(t,e){if(t===e)return 0;const n=As(t),r=As(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ve(i.integerValue||i.doubleValue),a=Ve(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return UP(t.timestampValue,e.timestampValue);case 4:return UP(wl(t),wl(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ts(i),a=Ts(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=K(o[u],a[u]);if(0!==l)return l}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Ve(i.latitude),Ve(s.latitude));return 0!==o?o:K(Ve(i.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=ki(o[u],a[u]);if(l)return l}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Mi_mapValue&&s===Mi_mapValue)return 0;if(i===Mi_mapValue)return 1;if(s===Mi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=K(a[c],l[c]);if(0!==d)return d;const h=ki(o[a[c]],u[l[c]]);if(0!==h)return h}return K(a.length,l.length)}(t.mapValue,e.mapValue);default:throw R()}}function UP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=Si(t),r=Si(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function la(t){return BI(t)}function BI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Si(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ts(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=BI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${BI(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function jI(t){return!!t&&"integerValue"in t}function Dl(t){return!!t&&"arrayValue"in t}function BP(t){return!!t&&"nullValue"in t}function jP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function Cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $P(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(Cl(this.value))}}function qP(t){const e=[];return Cs(t.fields,(n,r)=>{const i=new vt([n]);if(Zh(r)){const s=qP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ua(e)}class Te{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Te(e,0,V.min(),V.min(),Gt.empty(),0)}static newFoundDocument(e,n,r){return new Te(e,1,n,V.min(),r,0)}static newNoDocument(e,n){return new Te(e,2,n,V.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Te(e,3,n,V.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function tX(t){return new ar(t.readTime,t.key,-1)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(V.min(),S.empty(),-1)}static max(){return new ar(V.max(),S.empty(),-1)}}function zP(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}class $e{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Rt.RED,this.left=null!=i?i:Rt.EMPTY,this.right=null!=s?s:Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1,Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KP(this.data.getIterator())}getIteratorFrom(e){return new KP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class KP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function QP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nX(t,e,n,r,i,s,o)}function Ms(t){const e=x(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+la(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),El(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.P=n}return e.P}function Al(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!dX(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Ar(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eO(t.startAt,e.startAt)&&eO(t.endAt,e.endAt)}function rf(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Pt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new iX(e,n,r):"array-contains"===n?new aX(e,r):"in"===n?new uX(e,r):"not-in"===n?new lX(e,r):"array-contains-any"===n?new cX(e,r):new Pt(e,n,r)}static V(e,n,r){return"in"===n?new sX(e,r):new oX(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(ki(n,this.value)):null!==n&&As(this.value)===As(n)&&this.v(ki(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class iX extends Pt{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.v(n)}}class sX extends Pt{constructor(e,n){super(e,"in",n),this.keys=XP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oX extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=XP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class aX extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dl(n)&&bl(n.arrayValue,this.value)}}class uX extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&bl(this.value.arrayValue,n)}}class lX extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!bl(this.value.arrayValue,n)}}class cX extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}class Ni{constructor(e,n){this.position=e,this.inclusive=n}}class da{constructor(e,n="asc"){this.field=e,this.dir=n}}function dX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ZP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):ki(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function eO(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}class ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function ha(t){return new ai(t)}function fa(t){const e=x(t);if(null===e.D){e.D=[];const n=function GI(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function HI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new da(n)),e.D.push(new da(vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new da(vt.keyField(),s))}}}return e.D}function qn(t){const e=x(t);if(!e.C)if("F"===e.limitType)e.C=QP(e.path,e.collectionGroup,fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fa(e))n.push(new da(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ni(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ni(e.startAt.position,e.startAt.inclusive):null;e.C=QP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Sl(t,e){return Al(qn(t),qn(e))&&t.limitType===e.limitType}function rO(t){return`${Ms(qn(t))}|lt:${t.limitType}`}function WI(t){return`Query(target=${function rX(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${la(r.value)}`;var r}).join(", ")}]`),El(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>la(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>la(n)).join(",")),`Target(${e})`}(qn(t))}; limitType=${t.limitType})`}function zI(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=ZP(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fa(n),r)||n.endAt&&!function(i,s,o){const a=ZP(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fa(n),r)));var n,r}function sO(t){return(e,n)=>{let r=!1;for(const i of fa(t)){const s=fX(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function fX(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ki(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function oO(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Il(e)?"-0":e}}function aO(t){return{integerValue:""+t}}function uO(t,e){return function VP(t){return"number"==typeof t&&Number.isInteger(t)&&!Il(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?aO(e):oO(t,e)}class of{constructor(){this._=void 0}}function pX(t,e,n){return t instanceof pa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ks?cO(t,e):t instanceof Ns?dO(t,e):function(r,i){const s=lO(r,i),o=hO(s)+hO(r.k);return jI(s)&&jI(r.k)?aO(o):oO(r.M,o)}(t,e)}function gX(t,e,n){return t instanceof ks?cO(t,e):t instanceof Ns?dO(t,e):n}function lO(t,e){return t instanceof ga?jI(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class pa extends of{}class ks extends of{constructor(e){super(),this.elements=e}}function cO(t,e){const n=fO(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ns extends of{constructor(e){super(),this.elements=e}}function dO(t,e){let n=fO(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class ga extends of{constructor(e,n){super(),this.M=e,this.k=n}}function hO(t){return Ve(t.integerValue||t.doubleValue)}function fO(t){return Dl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class yX{constructor(e,n){this.version=e,this.transformResults=n}}class Xe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xe}static exists(e){return new Xe(void 0,e)}static updateTime(e){return new Xe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class uf{}function _X(t,e,n){t instanceof Ml?function(r,i,s){const o=r.value.clone(),a=yO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(r,i,s){if(!af(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=yO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(mO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function KI(t,e,n){var i;t instanceof Ml?function(r,i,s){if(!af(r.precondition,i))return;const o=r.value.clone(),a=_O(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(gO(i),o).setHasLocalMutations()}(t,e,n):t instanceof Rs?function(r,i,s){if(!af(r.precondition,i))return;const o=_O(r.fieldTransforms,s,i),a=i.data;a.setAll(mO(r)),a.setAll(o),i.convertToFoundDocument(gO(i),a).setHasLocalMutations()}(t,e,n):af(t.precondition,i=e)&&i.convertToNoDocument(V.min())}function vX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lO(r.transform,i||null);null!=s&&(null==n&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function pO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&aa(n,r,(i,s)=>function mX(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ks&&r instanceof ks||n instanceof Ns&&r instanceof Ns?aa(n.elements,r.elements,Ar):n instanceof ga&&r instanceof ga?Ar(n.k,r.k):n instanceof pa&&r instanceof pa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function gO(t){return t.isFoundDocument()?t.version:V.min()}class Ml extends uf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Rs extends uf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function mO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yO(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gX(o,a,n[i]))}return r}function _O(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,pX(s,o,e))}return r}class kl extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class QI extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class wX{constructor(e){this.count=e}}var Ze,ce;function vO(t){switch(t){default:return R();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function wO(t){if(void 0===t)return Ye("GRPC error has no .code"),v.UNKNOWN;switch(t){case Ze.OK:return v.OK;case Ze.CANCELLED:return v.CANCELLED;case Ze.UNKNOWN:return v.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return v.INTERNAL;case Ze.UNAVAILABLE:return v.UNAVAILABLE;case Ze.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Ze.NOT_FOUND:return v.NOT_FOUND;case Ze.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Ze.ABORTED:return v.ABORTED;case Ze.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Ze.DATA_LOSS:return v.DATA_LOSS;default:return R()}}(ce=Ze||(Ze={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class Ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FP(this.inner)}size(){return this.innerSize}}const EX=new $e(S.comparator);function Wn(){return EX}const IX=new $e(S.comparator);function YI(...t){let e=IX;for(const n of t)e=e.insert(n.key,n);return e}function Nl(){return new Ri(t=>t.toString(),(t,e)=>t.isEqual(e))}const bX=new $e(S.comparator),DX=new Ce(S.comparator);function he(...t){let e=DX;for(const n of t)e=e.add(n);return e}const CX=new Ce(K);function lf(){return CX}class Rl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,n)),new Rl(V.min(),r,lf(),Wn(),he())}}class Pl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Pl(at.EMPTY_BYTE_STRING,n,he(),he(),he())}}class cf{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class EO{constructor(e,n){this.targetId=e,this.$=n}}class IO{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bO{constructor(){this.B=0,this.L=CO(),this.U=at.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=he(),n=he(),r=he();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new Pl(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=CO()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class TX{constructor(e){this.nt=e,this.st=new Map,this.it=Wn(),this.rt=DO(),this.ot=new Ce(K)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(rf(s))if(0===r){const o=new S(s.path);this.ct(n,o,Te.newNoDocument(o,V.min()))}else j(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&rf(a.target)){const u=new S(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,Te.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=he();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Rl(e,n,this.ot,this.it,r);return this.it=Wn(),this.rt=DO(),this.ot=new Ce(K),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new bO,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ce(K),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new bO),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function DO(){return new $e(S.comparator)}function CO(){return new $e(S.comparator)}const AX={asc:"ASCENDING",desc:"DESCENDING"},SX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class xX{constructor(e,n){this.databaseId=e,this.N=n}}function Ol(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TO(t,e){return t.N?e.toBase64():e.toUint8Array()}function MX(t,e){return Ol(t,e.toTimestamp())}function wt(t){return j(!!t),V.fromTimestamp(function(e){const n=Si(e);return new Je(n.seconds,n.nanos)}(t))}function JI(t,e){return(n=t,new le(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function AO(t){const e=le.fromString(t);return j(FO(e)),e}function Fl(t,e){return JI(t.databaseId,e.path)}function Sr(t,e){const n=AO(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(xO(n))}function XI(t,e){return JI(t.databaseId,e)}function Ll(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xO(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function MO(t,e,n){return{name:Fl(t,e),fields:n.value.mapValue.fields}}function NO(t,e){return{documents:[XI(t,e.path)]}}function RO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=XI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=XI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(jP(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NAN"}};if(BP(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(jP(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NOT_NAN"}};if(BP(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(d.field),op:FX(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:ma((c=l).field),direction:OX(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(l=e.limit,t.N||El(l)?l:{value:l});var l,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function PO(t){let e=function SO(t){const e=AO(t);return 4===e.length?le.emptyPath():xO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=OO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>{return new da(ya((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,El(d)?null:d}(n.limit));let u=null;var c;n.startAt&&(u=new Ni((c=n.startAt).values||[],!!c.before));let l=null;return n.endAt&&(l=function(c){return new Ni(c.values||[],!c.before)}(n.endAt)),function tO(t,e,n,r,i,s,o,a){return new ai(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function OO(t){return t?void 0!==t.unaryFilter?[VX(t)]:void 0!==t.fieldFilter?[LX(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>OO(e)).reduce((e,n)=>e.concat(n)):R():[]}function OX(t){return AX[t]}function FX(t){return SX[t]}function ma(t){return{fieldPath:t.canonicalString()}}function ya(t){return vt.fromServerFormat(t.fieldPath)}function LX(t){return Pt.create(ya(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(t.fieldFilter.op),t.fieldFilter.value)}function VX(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ya(t.unaryFilter.field);return Pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ya(t.unaryFilter.field);return Pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ya(t.unaryFilter.field);return Pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ya(t.unaryFilter.field);return Pt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function UX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Ps(t){return"IndexedDbTransactionError"===t.name}class tb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_X(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&KI(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&KI(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>pO(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>pO(n,r))}}class nb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=bX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new nb(e,n,r,i)}}class rb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pi{constructor(e,n,r,i,s=V.min(),o=V.min(),a=at.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qO{constructor(e){this.Jt=e}}function ib(t){const e=PO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function nO(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Vs{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Ve(e.integerValue));else if("doubleValue"in e){const r=Ve(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),Il(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Ts(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?$P(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):R()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),S.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}Vs.fe=new Vs;class pZ{constructor(){this.qe=new ab}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(ar.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class ab{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(le.comparator)).toArray()}}new Uint8Array(0);class mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class js{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new js(0)}static yn(){return new js(-1)}}function $s(t){return lb.apply(this,arguments)}function lb(){return lb=m(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==$O)throw t;C("LocalStore","Unexpectedly lost primary lease")}),lb.apply(this,arguments)}class CZ{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function qI(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new S(n)).next(r=>{let i=YI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=YI();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=n,c=a.child(i),new ai(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.zs(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let l=i.get(u);null==l&&(l=Te.newInvalidDocument(u),i=i.insert(u,l)),KI(a,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{zI(n,o)||(i=i.remove(s))}),i))}}class fb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fb(e,n.fromCache,r,i)}}class cF{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return w.resolve(null)}ei(e,n,r,i){return function hX(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(V.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(LI()<=ue.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),WI(n)),this.ri(e,o,n,function WP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Je(n+1,0):new Je(n,r));return new ar(i,S.empty(),e)}(i,-1)))})}si(e,n){let r=new Ce(sO(e));return n.forEach((i,s)=>{zI(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return LI()<=ue.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",WI(n)),this.Zs.Qs(e,n,ar.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class TZ{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new $e(K),this.ai=new Ri(s=>Ms(s),Al),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new CZ(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function hF(t,e){return pb.apply(this,arguments)}function pb(){return pb=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=he();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.fi.Ks(r,u).next(l=>({di:l,removedBatchIds:o,addedBatchIds:a}))})})}),pb.apply(this,arguments)}function AZ(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function fF(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function SZ(t,e){const n=x(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(n.fs.removeMatchingKeys(s,l.removedDocuments,c).next(()=>n.fs.addMatchingKeys(s,l.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(c)?h=h.withResumeToken(at.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(c,h),p=h,g=l,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=Wn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function pF(t,e,n){let r=he();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Wn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(V.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):C("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(l=>{u=l})),!r.isEqual(V.min())){const l=n.fs.getLastRemoteSnapshotVersion(s).next(c=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,u)).next(()=>u)}).then(s=>(n.ui=i,s))}function xZ(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Ea(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new Pi(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}function Ia(t,e,n){return gb.apply(this,arguments)}function gb(){return gb=m(function*(t,e,n){const r=x(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ps(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),gb.apply(this,arguments)}function wf(t,e,n){const r=x(t);let i=V.min(),s=he();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=x(a),d=c.ai.get(l);return void 0!==d?w.resolve(c.ui.get(d)):c.fs.getTargetData(u,l)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.oi.Qs(o,e,n?i:V.min(),n?s:he())).next(a=>(function yF(t,e,n){let r=V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}(r,function iO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,_i:s})))}class NZ{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return w.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:wt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(r=n).name,query:ib(r.bundledQuery),readTime:wt(r.readTime)}),w.resolve();var r}}class RZ{constructor(){this.overlays=new $e(S.comparator),this.Ii=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Nl(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=Nl(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Nl(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rb(n,r));let s=this.Ii.get(n);void 0===s&&(s=he(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}class _b{constructor(){this.Ti=new Ce(It.Ei),this.Ai=new Ce(It.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new It(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new It(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new S(new le([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new S(new le([])),r=new It(n,e),i=new It(n,e+1);let s=he();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.Ti.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return S.comparator(e.key,n.key)||K(e.Ci,n.Ci)}static Ri(e,n){return K(e.Ci,n.Ci)||S.comparator(e.key,n.key)}}class PZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Ce(It.Ei)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++;const o=new tb(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Mi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(K);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),w.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new It(new S(s),0);let a=new Ce(K);return this.Ni.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Ci)),!0)},o),w.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let r=this.Ni;return w.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new It(n,0),i=this.Ni.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class OZ{constructor(e){this.$i=e,this.docs=new $e(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Wn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||zP(tX(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){R()}Bi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FZ(this)}getSize(e){return w.resolve(this.size)}}class FZ extends class EZ{constructor(){this.changes=new Ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class LZ{constructor(e){this.persistence=e,this.Li=new Ri(n=>Ms(n),Al),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ui=0,this.qi=new _b,this.targetCount=0,this.Ki=js.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),w.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new js(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.qi.containsKey(n))}}class VZ{constructor(e,n){this.Gi={},this.overlays={},this.es=new kn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new LZ(this),this.indexManager=new pZ,this.ds=new OZ(r=>this.referenceDelegate.Qi(r)),this.M=new qO(n),this._s=new NZ(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new PZ(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new UZ(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return w.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class UZ extends class iZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class vb{constructor(e){this.persistence=e,this.Hi=new _b,this.Ji=null}static Yi(e){return new vb(e)}get Xi(){if(this.Ji)return this.Ji;throw R()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),w.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Xi,r=>{const i=S.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return w.or([()=>w.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class Ib{constructor(){this.activeTargetIds=lf()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wF{constructor(){this.Ur=new Ib,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Ib,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BZ{Kr(e){}shutdown(){}}class EF{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $Z{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class HZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);C("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(C("RestConnection","Received: ",u),u),u=>{throw Jh("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.uo}/v1/${n}:${jZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new $J;a.listenOnce(UJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case FI.NO_ERROR:const l=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(l)),s(l);break;case FI.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case FI.HTTP_ERROR:const c=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=LJ(),o=VJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new jJ({})),this.lo(a.initMessageHeaders,n,r),xk()||Mk()||function g4(){return Sn().indexOf("Electron/")>=0}()||function m4(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function y4(){return Sn().indexOf("MSAppHost/")>=0}()||qd()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");C("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new $Z({Jr:p=>{d?C("Connection","Not sending because WebChannel is closed:",p):(c||(C("Connection","Opening WebChannel transport."),l.open(),c=!0),C("Connection","WebChannel sending:",p),l.send(p))},Yr:()=>l.close()}),f=(p,g,_)=>{p.listen(g,E=>{try{_(E)}catch(y){setTimeout(()=>{throw y},0)}})};return f(l,Yh.EventType.OPEN,()=>{d||C("Connection","WebChannel transport opened.")}),f(l,Yh.EventType.CLOSE,()=>{d||(d=!0,C("Connection","WebChannel transport closed"),h.ro())}),f(l,Yh.EventType.ERROR,p=>{d||(d=!0,Jh("Connection","WebChannel transport errored:",p),h.ro(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(l,Yh.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];j(!!_);const E=_,y=E.error||(null===(g=E[0])||void 0===g?void 0:g.error);if(y){C("Connection","WebChannel received error:",y);const T=y.status;let P=function(Z){const Ae=Ze[Z];if(void 0!==Ae)return wO(Ae)}(T),O=y.message;void 0===P&&(P=v.INTERNAL,O="Unknown error status: "+T+" with message "+y.message),d=!0,h.ro(new D(P,O)),l.close()}else C("Connection","WebChannel received:",_),h.oo(_)}}),f(o,BJ.STAT_EVENT,p=>{p.stat===xP.PROXY?C("Connection","Detected buffering proxy"):p.stat===xP.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function bf(){return"undefined"!=typeof document?document:null}function zl(t){return new xX(t,!0)}class Db{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class bF{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Db(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return m(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return m(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro(m(function*(){e.state=0,e.start()}))}jo(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GZ extends bF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function NX(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,l){return u.N?(j(void 0===l||"string"==typeof l),at.fromBase64String(l||"")):(j(void 0===l||l instanceof Uint8Array),at.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?v.UNKNOWN:wO(u.code);return new D(l,u.message||"")}(o);n=new IO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sr(t,r.document.name),s=wt(r.document.updateTime),o=new Gt({mapValue:{fields:r.document.fields}}),a=Te.newFoundDocument(i,s,o);n=new cf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Sr(t,r.document),s=r.readTime?wt(r.readTime):V.min(),o=Te.newNoDocument(i,s);n=new cf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Sr(t,r.document);n=new cf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,s=new wX(r.count||0);n=new EO(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?wt(s.readTime):V.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Ll(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=rf(a)?{documents:NO(i,a)}:{query:RO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=TO(i,s.resumeToken):s.snapshotVersion.compareTo(V.min())>0&&(o.readTime=Ol(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function PX(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Ll(this.M),n.removeTarget=e,this.Lo(n)}}class qZ extends bF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function RX(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=wt(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=wt(i)),new yX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=wt(e.commitTime);return this.listener.tu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ll(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Vl(t,e){let n;if(e instanceof Ml)n={update:MO(t,e.key,e.value)};else if(e instanceof kl)n={delete:Fl(t,e.key)};else if(e instanceof Rs)n={update:MO(t,e.key,e.data),updateMask:UX(e.fieldMask)};else{if(!(e instanceof QI))return R();n={verify:Fl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ns)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ga)return{fieldPath:s.field.canonicalString(),increment:o.k};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:MX(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.M,r))};this.Lo(n)}}class WZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class zZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ye(n),this.uu=!1):C("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class KZ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(a=>{r.enqueueAndForget(m(function*(){var u;Li(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=x(l);c.wu.add(4),yield ba(c),c.yu.set("Unknown"),c.wu.delete(4),yield Kl(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.yu=new zZ(r,i)}}function Kl(t){return Cb.apply(this,arguments)}function Cb(){return Cb=m(function*(t){if(Li(t))for(const e of t.mu)yield e(!0)}),Cb.apply(this,arguments)}function ba(t){return Tb.apply(this,arguments)}function Tb(){return Tb=m(function*(t){for(const e of t.mu)yield e(!1)}),Tb.apply(this,arguments)}function Df(t,e){const n=x(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),xb(n)?Sb(n):Ca(n).Mo()&&Ab(n,e))}function Ql(t,e){const n=x(t),r=Ca(n);n._u.delete(e),r.Mo()&&DF(n,e),0===n._u.size&&(r.Mo()?r.$o():Li(n)&&n.yu.set("Unknown"))}function Ab(t,e){t.pu.Z(e.targetId),Ca(t).Ho(e)}function DF(t,e){t.pu.Z(e),Ca(t).Jo(e)}function Sb(t){t.pu=new TX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),Ca(t).start(),t.yu.au()}function xb(t){return Li(t)&&!Ca(t).ko()&&t._u.size>0}function Li(t){return 0===x(t).wu.size}function CF(t){t.pu=void 0}function QZ(t){return Mb.apply(this,arguments)}function Mb(){return Mb=m(function*(t){t._u.forEach((e,n)=>{Ab(t,e)})}),Mb.apply(this,arguments)}function YZ(t,e){return kb.apply(this,arguments)}function kb(){return kb=m(function*(t,e){CF(t),xb(t)?(t.yu.lu(e),Sb(t)):t.yu.set("Unknown")}),kb.apply(this,arguments)}function JZ(t,e,n){return Nb.apply(this,arguments)}function Nb(){return Nb=m(function*(t,e,n){if(t.yu.set("Online"),e instanceof IO&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cf(t,r)}else if(e instanceof cf?t.pu.ut(e):e instanceof EO?t.pu._t(e):t.pu.ht(e),!n.isEqual(V.min()))try{const r=yield fF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i._u.get(u);l&&i._u.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(at.EMPTY_BYTE_STRING,u.snapshotVersion)),DF(i,a);const l=new Pi(u.target,a,1,u.sequenceNumber);Ab(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Cf(t,r)}var r}),Nb.apply(this,arguments)}function Cf(t,e,n){return Rb.apply(this,arguments)}function Rb(){return Rb=m(function*(t,e,n){if(!Ps(e))throw e;t.wu.add(1),yield ba(t),t.yu.set("Offline"),n||(n=()=>fF(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield Kl(t)}))}),Rb.apply(this,arguments)}function TF(t,e){return e().catch(n=>Cf(t,n,e))}function Da(t){return Pb.apply(this,arguments)}function Pb(){return Pb=m(function*(t){const e=x(t),n=Vi(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;XZ(e);)try{const i=yield xZ(e.localStore,r);if(null===i){0===e.du.length&&n.$o();break}r=i.batchId,ZZ(e,i)}catch(i){yield Cf(e,i)}AF(e)&&SF(e)}),Pb.apply(this,arguments)}function XZ(t){return Li(t)&&t.du.length<10}function ZZ(t,e){t.du.push(e);const n=Vi(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function AF(t){return Li(t)&&!Vi(t).ko()&&t.du.length>0}function SF(t){Vi(t).start()}function eee(t){return Ob.apply(this,arguments)}function Ob(){return Ob=m(function*(t){Vi(t).nu()}),Ob.apply(this,arguments)}function tee(t){return Fb.apply(this,arguments)}function Fb(){return Fb=m(function*(t){const e=Vi(t);for(const n of t.du)e.Zo(n.mutations)}),Fb.apply(this,arguments)}function nee(t,e,n){return Lb.apply(this,arguments)}function Lb(){return Lb=m(function*(t,e,n){const r=t.du.shift(),i=nb.from(r,e,n);yield TF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Da(t)}),Lb.apply(this,arguments)}function ree(t,e){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(t,e){var n;e&&Vi(t).Xo&&(yield(n=m(function*(r,i){if(vO(s=i.code)&&s!==v.ABORTED){const o=r.du.shift();Vi(r).Fo(),yield TF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Da(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),AF(t)&&SF(t)}),Vb.apply(this,arguments)}function xF(t,e){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Li(n);n.wu.add(3),yield ba(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Kl(n)}),Ub.apply(this,arguments)}function jb(){return jb=m(function*(t,e){const n=x(t);e?(n.wu.delete(2),yield Kl(n)):e||(n.wu.add(2),yield ba(n),n.yu.set("Unknown"))}),jb.apply(this,arguments)}function Ca(t){return t.Iu||(t.Iu=function(e,n,r){const i=x(e);return i.iu(),new GZ(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:QZ.bind(null,t),eo:YZ.bind(null,t),zo:JZ.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Iu.Fo(),xb(t)?Sb(t):t.yu.set("Unknown")):(yield t.Iu.stop(),CF(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}function Vi(t){return t.Tu||(t.Tu=function(e,n,r){const i=x(e);return i.iu(),new qZ(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:eee.bind(null,t),eo:ree.bind(null,t),eu:tee.bind(null,t),tu:nee.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Tu.Fo(),yield Da(t)):(yield t.Tu.stop(),t.du.length>0&&(C("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class $b{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $b(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ta(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),Ps(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=YI(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Aa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class MF{constructor(){this.Eu=new $e(S.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):R():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Sa(e,n,Aa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class iee{constructor(){this.Ru=void 0,this.listeners=[]}}class see{constructor(){this.queries=new Ri(e=>rO(e),Sl),this.onlineState="Unknown",this.bu=new Set}}function Gb(){return Gb=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iee),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Ta(o,`Initialization of query '${WI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&zb(n)}),Gb.apply(this,arguments)}function Wb(){return Wb=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Wb.apply(this,arguments)}function oee(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&zb(n)}function aee(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zb(t){t.bu.forEach(e=>{e.next()})}class Kb{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class RF{constructor(e){this.key=e}}class PF{constructor(e){this.key=e}}class OF{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=he(),this.mutatedKeys=he(),this.Gu=sO(e),this.Qu=new Aa(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new MF,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=zI(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Gu(f,u)>0||l&&this.Gu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Sa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new MF,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=he(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new PF(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new RF(r))}),n}ta(e){this.Uu=e._i,this.Ku=he();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Sa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class cee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dee{constructor(e){this.key=e,this.na=!1}}class hee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Ri(a=>rO(a),Sl),this.ra=new Map,this.oa=new Set,this.ua=new $e(S.comparator),this.aa=new Map,this.ca=new _b,this.ha={},this.la=new Map,this.fa=js.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function fee(t,e){return Qb.apply(this,arguments)}function Qb(){return Qb=m(function*(t,e){const n=_D(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield Ea(n.localStore,qn(e));n.isPrimaryClient&&Df(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Yb(n,e,r,"current"===a)}return i}),Qb.apply(this,arguments)}function Yb(t,e,n,r){return Jb.apply(this,arguments)}function Jb(){return Jb=m(function*(t,e,n,r){t._a=(c,d,h)=>{return(f=m(function*(p,g,_,E){let y=g.view.Wu(_);y.ii&&(y=yield wf(p.localStore,g.query,!1).then(({documents:O})=>g.view.Wu(O,y)));const T=E&&E.targetChanges.get(g.targetId),P=g.view.applyChanges(y,p.isPrimaryClient,T);return aD(p,g.targetId,P.Xu),P.snapshot}),function(p,g,_,E){return f.apply(this,arguments)})(t,c,d,h);var f};const i=yield wf(t.localStore,e,!0),s=new OF(e,i._i),o=s.Wu(i.documents),a=Pl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);aD(t,n,u.Xu);const l=new cee(e,n,s);return t.ia.set(e,l),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),u.snapshot}),Jb.apply(this,arguments)}function pee(t,e){return Xb.apply(this,arguments)}function Xb(){return Xb=m(function*(t,e){const n=x(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!Sl(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ia(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ql(n.remoteStore,r.targetId),xa(n,r.targetId)}).catch($s))):(xa(n,r.targetId),yield Ia(n.localStore,r.targetId,!0))}),Xb.apply(this,arguments)}function Zb(){return Zb=m(function*(t,e,n){const r=vD(t);try{const i=yield function(s,o){const a=x(s),u=Je.now(),l=o.reduce((d,h)=>d.add(h.key),he());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.fi.Ks(d,l).next(h=>{c=h;const f=[];for(const p of o){const g=vX(p,c.get(p.key));null!=g&&f.push(new Rs(p.key,g,qP(g.value.mapValue),Xe.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ha[s.currentUser.toKey()];u||(u=new $e(K)),u=u.insert(o,a),s.ha[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ui(r,i.changes),yield Da(r.remoteStore)}catch(i){const s=Ta(i,"Failed to persist write");n.reject(s)}}),Zb.apply(this,arguments)}function FF(t,e){return eD.apply(this,arguments)}function eD(){return eD=m(function*(t,e){const n=x(t);try{const r=yield SZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?j(o.na):i.removedDocuments.size>0&&(j(o.na),o.na=!1))}),yield ui(n,r,e)}catch(r){yield $s(r)}}),eD.apply(this,arguments)}function LF(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Pu(o)&&(u=!0)}),u&&zb(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mee(t,e,n){return tD.apply(this,arguments)}function tD(){return tD=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new $e(S.comparator);o=o.insert(s,Te.newNoDocument(s,V.min()));const a=he().add(s),u=new Rl(V.min(),new Map,new Ce(K),o,a);yield FF(r,u),r.ua=r.ua.remove(s),r.aa.delete(e),uD(r)}else yield Ia(r.localStore,e,!1).then(()=>xa(r,e,n)).catch($s)}),tD.apply(this,arguments)}function yee(t,e){return nD.apply(this,arguments)}function nD(){return nD=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield AZ(n.localStore,e);oD(n,r,null),sD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ui(n,i)}catch(i){yield $s(i)}}),nD.apply(this,arguments)}function _ee(t,e,n){return rD.apply(this,arguments)}function rD(){return rD=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.Bs.lookupMutationBatch(u,o).next(c=>(j(null!==c),l=c.keys(),a.Bs.removeMutationBatch(u,c))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.fi.Ks(u,l))})}(r.localStore,e);oD(r,e,n),sD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ui(r,i)}catch(i){yield $s(i)}}),rD.apply(this,arguments)}function sD(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function oD(t,e,n){const r=x(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function xa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||VF(t,r)})}function VF(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);null!==n&&(Ql(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),uD(t))}function aD(t,e,n){for(const r of n)r instanceof RF?(t.ca.addReference(r.key,e),wee(t,r)):r instanceof PF?(C("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||VF(t,r.key)):R()}function wee(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(C("SyncEngine","New document in limbo: "+n),t.oa.add(r),uD(t))}function uD(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new S(le.fromString(e)),r=t.fa.next();t.aa.set(r,new dee(n)),t.ua=t.ua.insert(n,r),Df(t.remoteStore,new Pi(qn(ha(n.path)),r,2,kn.A))}}function ui(t,e,n){return lD.apply(this,arguments)}function lD(){return lD=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.ia.isEmpty()||(r.ia.forEach((a,u)=>{o.push(r._a(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=fb.Ys(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.sa.zo(i),yield(a=m(function*(u,l){const c=x(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Hs,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ps(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.ui=c.ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),lD.apply(this,arguments)}function Eee(t,e){return cD.apply(this,arguments)}function cD(){return cD=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield hF(n.localStore,e);n.currentUser=e,(i=n).la.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ui(n,r.di)}var i}),cD.apply(this,arguments)}function Iee(t,e){const n=x(t),r=n.aa.get(e);if(r&&r.na)return he().add(r.key);{let i=he();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function _D(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mee.bind(null,e),e.sa.zo=oee.bind(null,e.eventManager),e.sa.wa=aee.bind(null,e.eventManager),e}function vD(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_ee.bind(null,e),e}class kee{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.M=zl(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return function dF(t,e,n,r){return new TZ(t,e,n,r)}(this.persistence,new cF,e.initialUser,this.M)}ya(e){return new VZ(vb.Yi,this.M)}ga(e){return new wF}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wD{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>LF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Eee.bind(null,r.syncEngine),yield function Bb(t,e){return jb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new see}createDatastore(e){const n=zl(e.databaseInfo.databaseId),r=new HZ(e.databaseInfo);return new WZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>LF(this.syncEngine,a,0),o=EF.vt()?new EF:new BZ,new KZ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new hee(r,i,s,o,a,u);return l&&(c.da=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=x(n);C("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield ba(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Lee{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=RP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ta(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function $F(t,e){return ED.apply(this,arguments)}function ED(){return ED=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield hF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),ED.apply(this,arguments)}function HF(t,e){return ID.apply(this,arguments)}function ID(){return ID=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield bD(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>xF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>xF(e.remoteStore,s)),t.onlineComponents=e}),ID.apply(this,arguments)}function bD(t){return DD.apply(this,arguments)}function DD(){return DD=m(function*(t){return t.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),yield $F(t,new kee)),t.offlineComponents}),DD.apply(this,arguments)}function Af(t){return CD.apply(this,arguments)}function CD(){return CD=m(function*(t){return t.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),yield HF(t,new wD)),t.onlineComponents}),CD.apply(this,arguments)}function Ma(t){return SD.apply(this,arguments)}function SD(){return SD=m(function*(t){const e=yield Af(t),n=e.eventManager;return n.onListen=fee.bind(null,e.syncEngine),n.onUnlisten=pee.bind(null,e.syncEngine),n}),SD.apply(this,arguments)}const KF=new Map;function xD(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QF(t){if(!S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YF(t){if(S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class XF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Wee(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XF({}),this._settingsFrozen=!1,e instanceof xi?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xi(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new HJ;switch(n.type){case"gapi":const r=n.client;return j(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=KF.get(e);n&&(C("ComponentProvider","Removing Datastore"),KF.delete(e),n.terminate())}(this),Promise.resolve()}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}}class qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Mr extends qt{constructor(e,n,r){super(e,n,ha(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new S(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function ZF(t,e,...n){if(t=Hn(t),xD("collection","path",e),t instanceof Yl){const r=le.fromString(e,...n);return YF(r),new Mr(t,null,r)}{if(!(t instanceof He||t instanceof Mr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return YF(r),new Mr(t.firestore,null,r)}}class Qee{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Db(this,"async_queue_retry"),this.Qa=()=>{const n=bf();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=bf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new _t;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return m(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Ps(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=$b.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&R()}verifyOperationInProgress(){}Ja(){var e=this;return m(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function MD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class ke extends Yl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new Qee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||eL(this),this._firestoreClient.terminate()}}function Jee(t=jk()){return Qd(t,"firestore").getImmediate()}function ut(t){return t._firestoreClient||eL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eL(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new XJ(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Lee(t._authCredentials,t._appCheckCredentials,t._queue,r)}class ka{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gs(at.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gs(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rL{constructor(e){this._methodName=e}}class kD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const Xee=/^__.*__$/;class Zee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}function sL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class xf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new xf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return kf(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(sL(this.ec)&&Xee.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class ete{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||zl(e)}lc(e,n,r,i=!1){return new xf({ec:e,methodName:n,hc:r,path:vt.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Na(t){const e=t._freezeSettings(),n=zl(t._databaseId);return new ete(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ND(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);PD("Data must be an object, but it was:",o,r);const a=cL(r,o);let u,l;if(s.merge)u=new ua(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=OD(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);hL(c,h)||c.push(h)}u=new ua(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new Zee(new Gt(a),u,l)}function qs(t,e){if(dL(t=Hn(t)))return PD("Unsupported field value:",e,t),cL(t,e);if(t instanceof rL)return function(n,r){if(!sL(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qs(o,r.uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Hn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return uO(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Je.fromDate(n);return{timestampValue:Ol(r.M,i)}}if(n instanceof Je){const i=new Je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ol(r.M,i)}}if(n instanceof kD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gs)return{bytesValue:TO(r.M,n._byteString)};if(n instanceof He){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${Sf(n)}`)}(t,e)}function cL(t,e){const n={};return FP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{const s=qs(i,e.sc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function dL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof kD||t instanceof Gs||t instanceof He||t instanceof rL)}function PD(t,e,n){if(!dL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sf(n);throw e.ac("an object"===r?t+" a custom object":t+" "+r)}var r}function OD(t,e,n){if((e=Hn(e))instanceof ka)return e._internalPath;if("string"==typeof e)return Mf(t,e);throw kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const ite=new RegExp("[~\\*/\\[\\]]");function Mf(t,e,n){if(e.search(ite)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ka(...e.split("."))._internalPath}catch(r){throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function hL(t,e){return t.some(n=>n.isEqual(e))}class FD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ste(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ste extends FD{data(){return super.data()}}function Nf(t,e){return"string"==typeof e?Mf(t,e):e instanceof ka?e._internalPath:e._delegate._internalPath}class Ws{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends FD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rf extends Ra{data(e={}){return super.data(e)}}class Pa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rf(this._firestore,this._userDataWriter,r.key,r,new Ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Rf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Rf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:ote(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ote(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class zs extends class cte{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){const r={};return Cs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new kD(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=LP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);j(FO(r));const i=new xi(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function hte(t,e){const n=de(t.firestore,ke),r=function zee(t,e,...n){if(t=Hn(t),1===arguments.length&&(e=RP.R()),xD("doc","path",e),t instanceof Yl){const r=le.fromString(e,...n);return QF(r),new He(t,null,new S(r))}{if(!(t instanceof He||t instanceof Mr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return QF(r),new He(t.firestore,t instanceof Mr?t.converter:null,new S(r))}}(t),i=function LD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Xl(t,e){return function(n,r){const i=new _t;return n.asyncQueue.enqueueAndForget(m(function*(){return function gee(t,e,n){return Zb.apply(this,arguments)}(yield function AD(t){return Af(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ut(t),e)}(n,[ND(Na(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Xe.exists(!1))]).then(()=>r)}!function(t,e=!0){oa="9.8.1",en(new $t("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new ke(i,new qJ(n.getProvider("auth-internal")),new KJ(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),je(MP,"3.4.9",t),je(MP,"3.4.9","esm2017")}();var gte={includeMetadataChanges:!1};function UD(t,e){return void 0===e&&(e=gte),new Ne(function(n){var r=function fte(t,...e){var n,r,i;t=Hn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||MD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(MD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(t instanceof He)l=de(t.firestore,ke),c=ha(t._key.path),u={next:d=>{e[o]&&e[o](function VD(t,e,n){const r=n.docs.get(e._key),i=new zs(t);return new Ra(t,i,e._key,r,new Ws(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,qt);l=de(d.firestore,ke),c=d._query;const h=new zs(l);u={next:f=>{e[o]&&e[o](new Pa(l,h,d,f))},error:e[o+1],complete:e[o+2]},function fL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Tf(p),_=new Kb(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function Hb(t,e){return Gb.apply(this,arguments)}(yield Ma(d),_)})),()=>{g.Aa(),d.asyncQueue.enqueueAndForget(m(function*(){return function qb(t,e){return Wb.apply(this,arguments)}(yield Ma(d),_)}))}}(ut(l),c,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Ite(t,e){return void 0===e&&(e={}),function Ete(t){return UD(t,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}(t).pipe(me(function(n){return n.map(function(r){return function IL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Of{constructor(e){return e}}const TL="firestore",$D=new z("angularfire2.firestore-instances");function Cte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Of(r)}}const Tte={provide:class bte{constructor(){return Mv(TL)}},deps:[[new pt,$D]]},Ate={provide:Of,useFactory:function Dte(t,e){const n=function xv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(TL,t,e);return n&&new Of(n)},deps:[[new pt,$D],Xo]};let Ste=(()=>{class t{constructor(){je("angularfire",Ev.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=un({providers:[Ate,Tte]}),t})();function xte(t,...e){return{ngModule:Ste,providers:[{provide:$D,useFactory:Cte(t),multi:!0,deps:[We,Bt,GN,qN,[new pt,qR],[new pt,p1],...e]}]}}const Mte=kv(Ite,!0),kte=kv(Jee,!0);function X(...t){return ht(t,Ga(t))}class lr extends Pr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Nte}=Array,{getPrototypeOf:Rte,prototype:Pte,keys:Ote}=Object;function AL(t){if(1===t.length){const e=t[0];if(Nte(e))return{args:e,keys:null};if(function Fte(t){return t&&"object"==typeof t&&Rte(t)===Pte}(e)){const n=Ote(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Lte}=Array;function SL(t){return me(e=>function Vte(t,e){return Lte(e)?t(...e):t(e)}(t,e))}function xL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ML(t,e,n){t?Or(n,t,e):e()}function Ff(t,e){const n=ie(t)?t:()=>t,r=i=>i.error(n());return new Ne(e?i=>e.schedule(r,0,i):r)}const Lf=lt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function HD(...t){return function jte(){return Ha(1)}()(ht(t,Ga(t)))}function kL(t){return new Ne(e=>{dr(t()).subscribe(e)})}function NL(){return bt((t,e)=>{let n=null;t._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class $te extends Ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,YC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yn;const n=this.getSubject();e.add(this.source.subscribe(ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yn.EMPTY)}return e}refCount(){return NL()(this)}}function Ks(t,e){return bt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ct(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;dr(t(u,c)).subscribe(i=ct(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Gte(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ct(o,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function RL(t,e){return bt(Gte(t,e,arguments.length>=2,!0))}function Oa(t,e){return bt((n,r)=>{let i=0;n.subscribe(ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ui(t){return bt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ct(n,void 0,void 0,o=>{s=dr(t(o,Ui(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Zl(t,e){return ie(e)?dt(t,e,1):dt(t,1)}function GD(t){return t<=0?()=>Fr:bt((e,n)=>{let r=[];e.subscribe(ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function PL(t=qte){return bt((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qte(){return new Lf}function OL(t){return bt((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oa((i,s)=>t(i,s,r)):Wi,bc(1),n?OL(e):PL(()=>new Lf))}class li{constructor(e,n){this.id=e,this.url=n}}class qD extends li{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ec extends li{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FL extends li{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kte extends li{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jte extends li{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ene{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nne{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rne{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const te="primary";class ine{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function La(t){return new ine(t)}const BL="ngNavigationCancelingError";function WD(t){const e=Error("NavigationCancelingError: "+t);return e[BL]=!0,e}function one(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!jL(t[i],e[i]))return!1;return!0}function jL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function $L(t){return Array.prototype.concat.apply([],t)}function HL(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Nr(t){return hm(t)?t:Eu(t)?ht(Promise.resolve(t)):X(t)}const lne={exact:function WL(t,e,n){if(!Ys(t.segments,e.segments)||!Vf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!WL(t.children[r],e.children[r],n))return!1;return!0},subset:zL},GL={exact:function cne(t,e){return kr(t,e)},subset:function dne(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jL(t[n],e[n]))},ignored:()=>!0};function qL(t,e,n){return lne[n.paths](t.root,e.root,n.matrixParams)&&GL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function zL(t,e,n){return KL(t,e,e.segments,n)}function KL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ys(i,n)||e.hasChildren()||!Vf(i,n,r))}if(t.segments.length===n.length){if(!Ys(t.segments,n)||!Vf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!zL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ys(t.segments,i)&&Vf(t.segments,i,r)&&t.children[te])&&KL(t.children[te],e,s,r)}}function Vf(t,e,n){return e.every((r,i)=>GL[n](t[i].parameters,r.parameters))}class Qs{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return pne.serialize(this)}}class se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ot(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class tc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=La(this.parameters)),this._parameterMap}toString(){return ZL(this)}}function Ys(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class QL{}class YL{parse(e){const n=new bne(e);return new Qs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nc(e.root,!0)}`,r=function yne(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Bf(n)}=${Bf(i)}`).join("&"):`${Bf(n)}=${Bf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function gne(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const pne=new YL;function Uf(t){return t.segments.map(e=>ZL(e)).join("/")}function nc(t,e){if(!t.hasChildren())return Uf(t);if(e){const n=t.children[te]?nc(t.children[te],!1):"",r=[];return Ot(t.children,(i,s)=>{s!==te&&r.push(`${s}:${nc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function fne(t,e){let n=[];return Ot(t.children,(r,i)=>{i===te&&(n=n.concat(e(r,i)))}),Ot(t.children,(r,i)=>{i!==te&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===te?[nc(t.children[te],!1)]:[`${i}:${nc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[te]?`${Uf(t)}/${n[0]}`:`${Uf(t)}/(${n.join("//")})`}}function JL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bf(t){return JL(t).replace(/%3B/gi,";")}function zD(t){return JL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jf(t){return decodeURIComponent(t)}function XL(t){return jf(t.replace(/\+/g,"%20"))}function ZL(t){return`${zD(t.path)}${function mne(t){return Object.keys(t).map(e=>`;${zD(e)}=${zD(t[e])}`).join("")}(t.parameters)}`}const _ne=/^[^\/()?;=#]+/;function $f(t){const e=t.match(_ne);return e?e[0]:""}const vne=/^[^=?&#]+/,Ene=/^[^&#]+/;class bne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new se(e,n)),r}parseSegment(){const e=$f(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new tc(jf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=$f(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=$f(this.remaining);i&&(r=i,this.capture(r))}e[jf(n)]=jf(r)}parseQueryParam(e){const n=function wne(t){const e=t.match(vne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Ine(t){const e=t.match(Ene);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=XL(n),s=XL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$f(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[te]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class eV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=KD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=KD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=QD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return QD(e,this._root).map(n=>n.value)}}function KD(t,e){if(t===e.value)return e;for(const n of e.children){const r=KD(t,n);if(r)return r}return null}function QD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=QD(t,n);if(r.length)return r.unshift(e),r}return[]}class ci{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Va(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class tV extends eV{constructor(e,n){super(e),this.snapshot=n,YD(this,e)}toString(){return this.snapshot.toString()}}function nV(t,e){const n=function Dne(t,e){const o=new Hf([],{},{},"",{},te,e,null,t.root,-1,{});return new iV("",new ci(o,[]))}(t,e),r=new lr([new tc("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new Ua(r,i,o,a,s,te,e,n.root);return u.snapshot=n.root,new tV(new ci(u,[]),n)}class Ua{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>La(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>La(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Cne(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Hf{constructor(e,n,r,i,s,o,a,u,l,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=La(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iV extends eV{constructor(e,n){super(n),this.url=e,YD(this,n)}toString(){return sV(this._root)}}function YD(t,e){e.value._routerState=t,e.children.forEach(n=>YD(t,n))}function sV(t){const e=t.children.length>0?` { ${t.children.map(sV).join(", ")} } `:"";return`${t.value}${e}`}function JD(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kr(e.params,n.params)||t.params.next(n.params),function ane(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function XD(t,e){const n=kr(t.params,e.params)&&function hne(t,e){return Ys(t,e)&&t.every((n,r)=>kr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||XD(t.parent,e.parent))}function rc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Ane(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return rc(t,r,i);return rc(t,r)})}(t,e,n);return new ci(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rc(t,a)),o}}const r=function Sne(t){return new Ua(new lr(t.url),new lr(t.params),new lr(t.queryParams),new lr(t.fragment),new lr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>rc(t,s));return new ci(r,i)}}function Gf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ic(t){return"object"==typeof t&&null!=t&&t.outlets}function ZD(t,e,n,r,i){let s={};if(r&&Ot(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),t===e)return new Qs(n,s,i);const o=oV(t,e,n);return new Qs(o,s,i)}function oV(t,e,n){const r={};return Ot(t.children,(i,s)=>{r[s]=i===e?n:oV(i,e,n)}),new se(t.segments,r)}class aV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Gf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ic);if(i&&i!==HL(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eC{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function uV(t,e,n){if(t||(t=new se([],{})),0===t.segments.length&&t.hasChildren())return qf(t,e,n);const r=function Pne(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ic(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!cV(u,l,o))return s;r+=2}else{if(!cV(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new se(t.segments.slice(r.pathIndex),t.children),qf(s,0,i)}return r.match&&0===i.length?new se(t.segments,{}):r.match&&!t.hasChildren()?tC(t,e,n):r.match?qf(t,0,i):tC(t,e,n)}function qf(t,e,n){if(0===n.length)return new se(t.segments,{});{const r=function Rne(t){return ic(t[0])?t[0].outlets:{[te]:t}}(n),i={};return Ot(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=uV(t.children[o],e,s))}),Ot(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new se(t.segments,i)}}function tC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ic(s)){const u=One(s.outlets);return new se(r,u)}if(0===i&&Gf(n[0])){r.push(new tc(t.segments[e].path,lV(n[0]))),i++;continue}const o=ic(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Gf(a)?(r.push(new tc(o,lV(a))),i+=2):(r.push(new tc(o,{})),i++)}return new se(r,{})}function One(t){const e={};return Ot(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=tC(new se([],{}),0,n))}),e}function lV(t){const e={};return Ot(t,(n,r)=>e[r]=`${n}`),e}function cV(t,e,n){return t==n.path&&kr(e,n.parameters)}class Lne{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),JD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ot(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new rne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new tne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(JD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),JD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function Vne(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class nC{constructor(e,n){this.routes=e,this.module=n}}function Bi(t){return"function"==typeof t}function Js(t){return t instanceof Qs}const sc=Symbol("INITIAL_VALUE");function oc(){return Ks(t=>function Ute(...t){const e=Ga(t),n=dT(t),{args:r,keys:i}=AL(t);if(0===r.length)return ht([],e);const s=new Ne(function Bte(t,e,n=Wi){return r=>{ML(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)ML(e,()=>{const l=ht(t[u],e);let c=!1;l.subscribe(ct(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>xL(i,o):Wi));return n?s.pipe(SL(n)):s}(t.map(e=>e.pipe(bc(1),function Hte(...t){const e=Ga(t);return bt((n,r)=>{(e?HD(t,n,e):HD(t,n)).subscribe(r)})}(sc)))).pipe(RL((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==sc?i:(s===sc&&(r=!0),r||!1!==s&&o!==n.length-1&&!Js(s)?i:s),e)},sc),Oa(e=>e!==sc),me(e=>Js(e)?e:!0===e),bc(1)))}class Gne{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ac,this.attachRef=null}}class ac{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Gne,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let rC=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.name=s||te,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new qne(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(ac),b(rr),b(Su),eu("name"),b(Td))},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class qne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ua?this.route:e===ac?this.childContexts:this.parent.get(e,n)}}let dV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ki({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Hr(0,"router-outlet")},directives:[rC],encapsulation:2}),t})();function hV(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Wne(r,zne(e,r))}}function Wne(t,e){t.children&&hV(t.children,e)}function zne(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function iC(t){const e=t.children&&t.children.map(iC),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=dV),n}function zn(t){return t.outlet||te}function fV(t,e){const n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}const pV={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wf(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},pV):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||one)(n,t,e);if(!s)return Object.assign({},pV);const o={};Ot(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function zf(t,e,n,r,i="corrected"){if(n.length>0&&function Yne(t,e,n){return n.some(r=>Kf(t,e,r)&&zn(r)!==te)}(t,n,r)){const o=new se(e,function Qne(t,e,n,r){const i={};i[te]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&zn(s)!==te){const o=new se([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[zn(s)]=o}return i}(t,e,r,new se(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Jne(t,e,n){return n.some(r=>Kf(t,e,r))}(t,n,r)){const o=new se(t.segments,function Kne(t,e,n,r,i,s){const o={};for(const a of r)if(Kf(t,n,a)&&!i[zn(a)]){const u=new se([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[zn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new se(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Kf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function gV(t,e,n,r){return!!(zn(t)===r||r!==te&&Kf(e,n,t))&&("**"===t.path||Wf(e,t,n).matched)}function mV(t,e,n){return 0===e.length&&!t.children[n]}class Qf{constructor(e){this.segmentGroup=e||null}}class yV{constructor(e){this.urlTree=e}}function uc(t){return Ff(new Qf(t))}function _V(t){return Ff(new yV(t))}function Xne(t){return Ff(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`))}class tre{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(qr)}apply(){const e=zf(this.urlTree.root,[],[],this.config).segmentGroup,n=new se(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,te).pipe(me(s=>this.createUrlTree(sC(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ui(s=>{if(s instanceof yV)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Qf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,te).pipe(me(i=>this.createUrlTree(sC(i),e.queryParams,e.fragment))).pipe(Ui(i=>{throw i instanceof Qf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new se([],{[te]:e}):e;return new Qs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(me(s=>new se([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ht(i).pipe(Zl(s=>{const o=r.children[s],a=fV(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(me(u=>({segment:u,outlet:s})))}),RL((s,o)=>(s[o.outlet]=o.segment,s),{}),function Wte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oa((i,s)=>t(i,s,r)):Wi,GD(1),n?OL(e):PL(()=>new Lf))}())}expandSegment(e,n,r,i,s,o){return ht(r).pipe(Zl(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ui(l=>{if(l instanceof Qf)return X(null);throw l}))),Fa(a=>!!a),Ui((a,u)=>{if(a instanceof Lf||"EmptyError"===a.name)return mV(n,i,s)?X(new se([],{})):uc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return gV(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):uc(n):uc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_V(s):this.lineralizeSegments(r,s).pipe(dt(o=>{const a=new se(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Wf(n,i,s);if(!a)return uc(n);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?_V(d):this.lineralizeSegments(i,d).pipe(dt(h=>this.expandSegment(e,n,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?X(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(me(d=>(r._loadedConfig=d,new se(i,{})))):X(new se(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Wf(n,r,i);return o?this.getChildConfig(e,r,i).pipe(dt(c=>{const d=c.module,h=c.routes,{segmentGroup:f,slicedSegments:p}=zf(n,a,u,h),g=new se(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(me(T=>new se(a,T)));if(0===h.length&&0===p.length)return X(new se(a,{}));const _=zn(r)===s;return this.expandSegment(d,g,h,p,_?te:s,!0).pipe(me(y=>new se(a.concat(y.segments),y.children)))})):uc(n)}getChildConfig(e,n,r){return n.children?X(new nC(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?X(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(dt(i=>i?this.configLoader.load(e.injector,n).pipe(me(s=>(n._loadedConfig=s,s))):function Zne(t){return Ff(WD(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):X(new nC([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return X(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function Bne(t){return t&&Bi(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!Bi(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Nr(u)});return X(s).pipe(oc(),fn(o=>{if(!Js(o))return;const a=WD(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),me(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[te])return Xne(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Qs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ot(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ot(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function sC(t){const e={};for(const r of Object.keys(t.children)){const s=sC(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function nre(t){if(1===t.numberOfChildren&&t.children[te]){const e=t.children[te];return new se(t.segments.concat(e.segments),e.children)}return t}(new se(t.segments,e))}class vV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Yf{constructor(e,n){this.component=e,this.route=n}}function ire(t,e,n){const r=t._root;return lc(r,e?e._root:null,n,[r.value])}function Jf(t,e,n){const r=function ore(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function lc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Va(e);return t.children.forEach(o=>{(function are(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function ure(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ys(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(t.url,e.url)||!kr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XD(t,e)||!kr(t.queryParams,e.queryParams);default:return!XD(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),lc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yf(a.outlet.component,o))}else o&&cc(e,a,i),i.canActivateChecks.push(new vV(r)),lc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ot(s,(o,a)=>cc(o,n.getContext(a),i)),i}function cc(t,e,n){const r=Va(t),i=t.value;Ot(r,(s,o)=>{cc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Yf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class yre{}function wV(t){return new Ne(e=>e.error(t))}class vre{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=zf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,te);if(null===n)return null;const r=new Hf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ci(r,n),s=new iV(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=rV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=fV(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=EV(r);return function wre(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return mV(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!gV(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?HL(r).parameters:{};s=new Hf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DV(e),zn(e),e.component,e,IV(n),bV(n)+r.length,CV(e))}else{const f=Wf(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new Hf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DV(e),zn(e),e.component,e,IV(n),bV(n)+o.length,CV(e))}const u=function Ere(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=zf(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new ci(s,f)]}if(0===u.length&&0===c.length)return[new ci(s,[])];const d=zn(e)===i,h=this.processSegment(u,l,c,d?te:i);return null===h?null:[new ci(s,h)]}}function Ire(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EV(t){const e=[],n=new Set;for(const r of t){if(!Ire(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=EV(r.children);e.push(new ci(r.value,i))}return e.filter(r=>!n.has(r))}function IV(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bV(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function DV(t){return t.data||{}}function CV(t){return t.resolve||{}}function TV(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oC(t){return Ks(e=>{const n=t(e);return n?ht(n).pipe(me(()=>e)):X(e)})}class Mre extends class xre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const aC=new z("ROUTES");class AV{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(me(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new nC($L(o.injector.get(aC,void 0,$.Self|$.Optional)).map(iC),o)}),Ui(s=>{throw n._loader$=void 0,s}));return n._loader$=new $te(i,()=>new Pr).pipe(NL()),n._loader$}loadModuleFactory(e){return Nr(e()).pipe(dt(n=>n instanceof Wx?X(n):ht(this.compiler.compileModuleAsync(n))))}}class Nre{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Rre(t){throw t}function Pre(t,e,n){return e.parse("/")}function SV(t,e){return X(null)}const Ore={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pr,this.errorHandler=Rre,this.malformedUriErrorHandler=Pre,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:SV,afterPreactivation:SV},this.urlHandlingStrategy=new Nre,this.routeReuseStrategy=new Mre,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(qr),this.console=o.get(dz);const d=o.get(We);this.isNgZoneEnabled=d instanceof We&&We.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function une(){return new Qs(new se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new AV(o,a,h=>this.triggerEvent(new LL(h)),h=>this.triggerEvent(new VL(h))),this.routerState=nV(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Oa(i=>0!==i.id),me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ks(i=>{let s=!1,o=!1;return X(i).pipe(fn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ks(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return xV(a.source)&&(this.browserUrlTree=a.extractedUrl),X(a).pipe(Ks(d=>{const h=this.transitions.getValue();return r.next(new qD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Fr:Promise.resolve(d)}),function rre(t,e,n,r){return Ks(i=>function ere(t,e,n,r,i){return new tre(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),fn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function bre(t,e,n,r,i){return dt(s=>function _re(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new vre(t,e,n,r,i,s).recognize();return null===o?wV(new yre):X(o)}catch(o){return wV(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(me(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),fn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Qte(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,E=new qD(h,this.serializeUrl(f),p,g);r.next(E);const y=nV(f,this.rootComponentType).snapshot;return X(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Fr}),oC(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),fn(a=>{const u=new Yte(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),me(a=>Object.assign(Object.assign({},a),{guards:ire(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function lre(t,e){return dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?X(Object.assign(Object.assign({},n),{guardsResult:!0})):function cre(t,e,n,r){return ht(t).pipe(dt(i=>function mre(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const u=Jf(a,e,i);let l;if(function Hne(t){return t&&Bi(t.canDeactivate)}(u))l=Nr(u.canDeactivate(t,e,n,r));else{if(!Bi(u))throw new Error("Invalid CanDeactivate guard");l=Nr(u(t,e,n,r))}return l.pipe(Fa())})).pipe(oc()):X(!0)}(i.component,i.route,n,e,r)),Fa(i=>!0!==i,!0))}(o,r,i,t).pipe(dt(a=>a&&function Une(t){return"boolean"==typeof t}(a)?function dre(t,e,n,r){return ht(e).pipe(Zl(i=>HD(function fre(t,e){return null!==t&&e&&e(new ene(t)),X(!0)}(i.route.parent,r),function hre(t,e){return null!==t&&e&&e(new nne(t)),X(!0)}(i.route,r),function gre(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function sre(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>kL(()=>X(o.guards.map(u=>{const l=Jf(u,o.node,n);let c;if(function $ne(t){return t&&Bi(t.canActivateChild)}(l))c=Nr(l.canActivateChild(r,t));else{if(!Bi(l))throw new Error("Invalid CanActivateChild guard");c=Nr(l(r,t))}return c.pipe(Fa())})).pipe(oc())));return X(s).pipe(oc())}(t,i.path,n),function pre(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>kL(()=>{const o=Jf(s,e,n);let a;if(function jne(t){return t&&Bi(t.canActivate)}(o))a=Nr(o.canActivate(e,t));else{if(!Bi(o))throw new Error("Invalid CanActivate guard");a=Nr(o(e,t))}return a.pipe(Fa())}));return X(i).pipe(oc())}(t,i.route,n))),Fa(i=>!0!==i,!0))}(r,s,t,e):X(a)),me(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),fn(a=>{if(Js(a.guardsResult)){const l=WD(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new Jte(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Oa(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),oC(a=>{if(a.guards.canActivateChecks.length)return X(a).pipe(fn(u=>{const l=new Xte(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Ks(u=>{let l=!1;return X(u).pipe(function Dre(t,e){return dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=0;return ht(i).pipe(Zl(o=>function Cre(t,e,n,r){return function Tre(t,e,n,r){const i=TV(t);if(0===i.length)return X({});const s={};return ht(i).pipe(dt(o=>function Are(t,e,n,r){const i=Jf(t,e,r);return Nr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(fn(a=>{s[o]=a}))),GD(1),dt(()=>TV(s).length===i.length?X(s):Fr))}(t._resolve,t,e,r).pipe(me(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),rV(t,n).resolve),null)))}(o.route,r,t,e)),fn(()=>s++),GD(1),dt(o=>s===i.length?X(n):Fr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),fn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),fn(u=>{const l=new Zte(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),oC(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),me(a=>{const u=function Tne(t,e,n){const r=rc(t,e._root,n?n._root:void 0);return new tV(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),fn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>me(r=>(new Lne(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),fn({next(){s=!0},complete(){s=!0}}),function zte(t){return bt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ui(a=>{if(o=!0,function sne(t){return t&&t[BL]}(a)){const u=Js(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new FL(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xV(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new Kte(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Fr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){hV(n),this.config=n.map(iC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function xne(t,e,n,r,i){if(0===n.length)return ZD(e.root,e.root,e.root,r,i);const s=function Mne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new aV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ot(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new aV(n,e,r)}(n);if(s.toRoot())return ZD(e.root,e.root,new se([],{}),r,i);const o=function kne(t,e,n){if(t.isAbsolute)return new eC(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new eC(s,s===e.root,0)}const r=Gf(t.commands[0])?0:1;return function Nne(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new eC(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?qf(o.segmentGroup,o.index,s.commands):uV(o.segmentGroup,o.index,s.commands);return ZD(e.root,o.segmentGroup,a,r,i)}(l,this.currentUrlTree,n,d,null!=c?c:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Js(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function Lre(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Ore):!1===r?Object.assign({},Fre):r,Js(n))return qL(this.currentUrlTree,n,i);const s=this.parseUrl(n);return qL(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new ec(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let l,c,d;o?(l=o.resolve,c=o.reject,d=o.promise):d=new Promise((p,g)=>{l=p,c=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new FL(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){um()},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();function xV(t){return"imperative"!==t}let uC=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Pr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:Ba(this.skipLocationChange),replaceUrl:Ba(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ba(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(Nn),b(Ua),eu("tabindex"),b(Gr),b(An))},t.\u0275dir=B({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Jt("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[On]}),t})(),Xf=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Pr,this.subscription=n.events.subscribe(s=>{s instanceof ec&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ba(this.skipLocationChange),replaceUrl:Ba(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ba(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(Nn),b(Ua),b(Wo))},t.\u0275dir=B({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Jt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&wr("target",r.target)("href",r.href,hg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[On]}),t})();function Ba(t){return""===t||!!t}let MV=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Le,this.routerEventsSubscription=n.events.subscribe(u=>{u instanceof ec&&this.update()})}ngAfterContentInit(){X(this.links.changes,this.linksWithHrefs.changes,X(null)).pipe(Ha()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var n;null===(n=this.linkInputChangesSubscription)||void 0===n||n.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ht(r).pipe(Ha()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){var n;this.routerEventsSubscription.unsubscribe(),null===(n=this.linkInputChangesSubscription)||void 0===n||n.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function Vre(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.linkWithHref&&n(this.linkWithHref)||this.links.some(n)||this.linksWithHrefs.some(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Nn),b(An),b(Gr),b(Td),b(uC,8),b(Xf,8))},t.\u0275dir=B({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&(Pm(i,uC,5),Pm(i,Xf,5)),2&n){let s;Rm(s=Om())&&(r.links=s),Rm(s=Om())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[On]}),t})();class kV{}class NV{preload(e,n){return X(null)}}let RV=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new AV(i,r,u=>n.triggerEvent(new LL(u)),u=>n.triggerEvent(new VL(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oa(n=>n instanceof ec),Zl(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(qr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return ht(i).pipe(Ha(),me(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?X(r._loadedConfig):this.loader.load(n.injector,r)).pipe(dt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(Nn),F(SM),F(Bt),F(kV))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),lC=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof qD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ec&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof UL&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new UL(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){um()},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const Xs=new z("ROUTER_CONFIGURATION"),PV=new z("ROUTER_FORROOT_GUARD"),Bre=[iy,{provide:QL,useClass:YL},{provide:Nn,useFactory:function qre(t,e,n,r,i,s,o={},a,u){const l=new Nn(null,t,e,n,r,i,$L(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function Wre(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[QL,ac,iy,Bt,SM,aC,Xs,[class kre{},new pt],[class Sre{},new pt]]},ac,{provide:Ua,useFactory:function zre(t){return t.routerState.root},deps:[Nn]},RV,NV,class Ure{preload(e,n){return n().pipe(Ui(()=>X(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function jre(){return new RM("Router",Nn)}let OV=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[Bre,FV(n),{provide:PV,useFactory:Gre,deps:[[Nn,new pt,new au]]},{provide:Xs,useValue:r||{}},{provide:Wo,useFactory:Hre,deps:[os,[new Kc(ry),new pt],Xs]},{provide:lC,useFactory:$re,deps:[Nn,D8,Xs]},{provide:kV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:NV},{provide:RM,multi:!0,useFactory:jre},[cC,{provide:jm,multi:!0,useFactory:Kre,deps:[cC]},{provide:LV,useFactory:Qre,deps:[cC]},{provide:AM,multi:!0,useExisting:LV}]]}}static forChild(n){return{ngModule:t,providers:[FV(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(PV,8),F(Nn,8))},t.\u0275mod=wn({type:t}),t.\u0275inj=un({}),t})();function $re(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new lC(t,e,n)}function Hre(t,e,n={}){return n.useHash?new r3(t,e):new XM(t,e)}function Gre(t){return"guarded"}function FV(t){return[{provide:VB,multi:!0,useValue:t},{provide:aC,multi:!0,useValue:t}]}let cC=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pr}appInitializer(){return this.injector.get(e3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Nn),o=this.injector.get(Xs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?X(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Xs),i=this.injector.get(RV),s=this.injector.get(lC),o=this.injector.get(Nn),a=this.injector.get(Ym);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();function Kre(t){return t.appInitializer.bind(t)}function Qre(t){return t.bootstrapListener.bind(t)}const LV=new z("Router Initializer");let VV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gr),b(An))},t.\u0275dir=B({type:t}),t})(),Zs=(()=>{class t extends VV{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[pe]}),t})();const Rr=new z("NgValueAccessor"),Zre={provide:Rr,useExisting:Ie(()=>dc),multi:!0},tie=new z("CompositionEventMode");let dc=(()=>{class t extends VV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eie(){const t=br()?br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gr),b(An),b(tie,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Jt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[xe([Zre]),pe]}),t})();function ji(t){return null==t||0===t.length}function BV(t){return null!=t&&"number"==typeof t.length}const Wt=new z("NgValidators"),$i=new z("NgAsyncValidators"),nie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ja{static min(e){return function jV(t){return e=>{if(ji(e.value)||ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function $V(t){return e=>{if(ji(e.value)||ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return HV(e)}static requiredTrue(e){return function GV(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function qV(t){return ji(t.value)||nie.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function WV(t){return e=>ji(e.value)||!BV(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function zV(t){return e=>BV(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return KV(e)}static nullValidator(e){return null}static compose(e){return eU(e)}static composeAsync(e){return tU(e)}}function HV(t){return ji(t.value)?{required:!0}:null}function KV(t){if(!t)return Zf;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ji(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Zf(t){return null}function QV(t){return null!=t}function YV(t){const e=Eu(t)?ht(t):t;return hm(e),e}function JV(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function XV(t,e){return e.map(n=>n(t))}function ZV(t){return t.map(e=>function rie(t){return!t.validate}(e)?e:n=>e.validate(n))}function eU(t){if(!t)return null;const e=t.filter(QV);return 0==e.length?null:function(n){return JV(XV(n,e))}}function dC(t){return null!=t?eU(ZV(t)):null}function tU(t){if(!t)return null;const e=t.filter(QV);return 0==e.length?null:function(n){return function Jre(...t){const e=dT(t),{args:n,keys:r}=AL(t),i=new Ne(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;dr(n[c]).subscribe(ct(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?xL(r,a):a),s.complete())}))}});return e?i.pipe(SL(e)):i}(XV(n,e).map(YV)).pipe(me(JV))}}function hC(t){return null!=t?tU(ZV(t)):null}function nU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rU(t){return t._rawValidators}function iU(t){return t._rawAsyncValidators}function fC(t){return t?Array.isArray(t)?t:[t]:[]}function ep(t,e){return Array.isArray(t)?t.includes(e):t===e}function sU(t,e){const n=fC(e);return fC(t).forEach(i=>{ep(n,i)||n.push(i)}),n}function oU(t,e){return fC(e).filter(n=>!ep(t,n))}class aU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Hi extends aU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends aU{get formDirective(){return null}get path(){return null}}class uU{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let pC=(()=>{class t extends uU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Hi,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&hd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[pe]}),t})(),gC=(()=>{class t extends uU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(an,10))},t.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&hd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[pe]}),t})();function np(t,e){return[...e.path,t]}function hc(t,e){_C(t,e),e.valueAccessor.writeValue(t.value),function die(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cU(t,e)})}(t,e),function fie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function hie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function cie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function rp(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ip(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _C(t,e){const n=rU(t);null!==e.validator?t.setValidators(nU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=iU(t);null!==e.asyncValidator?t.setAsyncValidators(nU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();ip(e._rawValidators,i),ip(e._rawAsyncValidators,i)}function sp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=rU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=iU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return ip(e._rawValidators,r),ip(e._rawAsyncValidators,r),n}function cU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dU(t,e){_C(t,e)}function vC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function fU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===dc?n=s:function mie(t){return Object.getPrototypeOf(t.constructor)===Zs}(s)?r=s:i=s}),i||r||n||null}function EC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fc="VALID",op="INVALID",$a="PENDING",pc="DISABLED";function bC(t){return(ap(t)?t.validators:t)||null}function pU(t){return Array.isArray(t)?dC(t):t||null}function DC(t,e){return(ap(e)?e.asyncValidators:t)||null}function gU(t){return Array.isArray(t)?hC(t):t||null}function ap(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const mU=t=>t instanceof up,CC=t=>t instanceof lp;function yU(t){return mU(t)?t.value:t.getRawValue()}function _U(t,e){const n=CC(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new oe(1e3,"");if(!r[e])throw new oe(1001,"")}function vU(t,e){CC(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new oe(1002,"")})}class TC{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=pU(this._rawValidators),this._composedAsyncValidatorFn=gU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fc}get invalid(){return this.status===op}get pending(){return this.status==$a}get disabled(){return this.status===pc}get enabled(){return this.status!==pc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=pU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=gU(e)}addValidators(e){this.setValidators(sU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oU(e,this._rawAsyncValidators))}hasValidator(e){return ep(this._rawValidators,e)}hasAsyncValidator(e){return ep(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$a,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=pc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=fc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fc||this.status===$a)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pc:fc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$a,this._hasOwnPendingAsyncValidator=!0;const n=YV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function yie(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=CC(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof vie)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?pc:this.errors?op:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($a)?$a:this._anyControlsHaveStatus(op)?op:fc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ap(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class up extends TC{constructor(e=null,n,r){super(bC(n),DC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ap(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class lp extends TC{constructor(e,n,r){super(bC(n),DC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){vU(this,e),Object.keys(e).forEach(r=>{_U(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=yU(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vie extends TC{constructor(e,n,r){super(bC(n),DC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){vU(this,e),e.forEach((r,i)=>{_U(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>yU(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const wie={provide:an,useExisting:Ie(()=>cp)},gc=(()=>Promise.resolve(null))();let cp=(()=>{class t extends an{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Le,this.form=new lp({},dC(n),hC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){gc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),hc(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){gc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){gc.then(()=>{const r=this._findContainer(n.path),i=new lp({});dU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){gc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){gc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,fU(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(Wt,10),b($i,10))},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Jt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xe([wie]),pe]}),t})();const Iie={provide:Hi,useExisting:Ie(()=>AC)},IU=(()=>Promise.resolve(null))();let AC=(()=>{class t extends Hi{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new up,this._registered=!1,this.update=new Le,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wC(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),vC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){IU.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;IU.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?np(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(an,9),b(Wt,10),b($i,10),b(Rr,10),b(Td,8))},t.\u0275dir=B({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xe([Iie]),pe,On]}),t})(),SC=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),DU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=un({}),t})();const xC=new z("NgModelWithFormControlWarning"),Sie={provide:an,useExisting:Ie(()=>dp)};let dp=(()=>{class t extends an{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return hc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){rp(n.control||null,n,!1),EC(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,fU(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(rp(r||null,n),mU(i)&&(hc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);dU(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function pie(t,e){return sp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_C(this.form,this),this._oldForm&&sp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(b(Wt,10),b($i,10))},t.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Jt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xe([Sie]),pe,On]}),t})();const kie={provide:Hi,useExisting:Ie(()=>NC)};let NC=(()=>{class t extends Hi{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Le,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wC(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),vC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return np(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(b(an,13),b(Wt,10),b($i,10),b(Rr,10),b(xC,8))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xe([kie]),pe,On]}),t})(),eo=(()=>{class t{constructor(){this._validator=Zf}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,features:[On]}),t})();const jie={provide:Wt,useExisting:Ie(()=>hp),multi:!0};let hp=(()=>{class t extends eo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n=>function Vie(t){return null!=t&&!1!==t&&"false"!=`${t}`}(n),this.createValidator=n=>HV}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&wr("required",r._enabled?"":null)},inputs:{required:"required"},features:[xe([jie]),pe]}),t})();const Wie={provide:Wt,useExisting:Ie(()=>OC),multi:!0};let OC=(()=>{class t extends eo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>KV(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&wr("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[xe([Wie]),pe]}),t})(),UU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=un({imports:[[DU]]}),t})(),zie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=un({imports:[UU]}),t})(),Kie=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xC,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=un({imports:[UU]}),t})();function Qie(t,e){1&t&&(ge(0,"div"),rt(1,"Name is required"),Ee())}function Yie(t,e){1&t&&(ge(0,"div"),rt(1,"Enter is avlid name"),Ee())}function Jie(t,e){if(1&t&&(ge(0,"small",6),Tn(1,Qie,2,0,"div",7),Tn(2,Yie,2,0,"div",7),Ee()),2&t){const n=Iu();Ct(1),Tt("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.required),Ct(1),Tt("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.pattern)}}function Xie(t,e){1&t&&(ge(0,"div"),rt(1,"Email is required"),Ee())}function Zie(t,e){1&t&&(ge(0,"div"),rt(1,"Enter is avlid email address"),Ee())}function ese(t,e){if(1&t&&(ge(0,"small",8),Tn(1,Xie,2,0,"div",7),Tn(2,Zie,2,0,"div",7),Ee()),2&t){const n=Iu();Ct(1),Tt("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.required),Ct(1),Tt("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.pattern)}}let tse=(()=>{class t{constructor(){this.emailFrm=new lp({email:new up("",[ja.required,ja.pattern("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+.[a-z]{2,3}")]),fullName:new up("",[ja.required,ja.pattern("[A-Za-z ]+"),ja.maxLength(20),ja.maxLength(4)])})}get name(){return this.emailFrm.get("fullName")}get email(){return this.emailFrm.get("email")}ngOnInit(){}onSubmitForm(){console.log(this.emailFrm.controls)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ki({type:t,selectors:[["lib-email-reactive"]],decls:9,vars:4,consts:[["novalidate","",3,"formGroup","ngSubmit"],["type","text","formControlName","fullName",1,"d-block"],["class","mb-3 text-danger d-block",4,"ngIf"],["type","text","formControlName","email",1,"mt-2"],["class","text-danger d-block",4,"ngIf"],["type","submit",3,"disabled"],[1,"mb-3","text-danger","d-block"],[4,"ngIf"],[1,"text-danger","d-block"]],template:function(n,r){1&n&&(ge(0,"p"),rt(1,"newsletter works!"),Ee(),ge(2,"form",0),Jt("ngSubmit",function(){return r.onSubmitForm()}),Hr(3,"input",1),Tn(4,Jie,3,2,"small",2),Hr(5,"input",3),Tn(6,ese,3,2,"small",4),ge(7,"button",5),rt(8,"Submit"),Ee()()),2&n&&(Ct(2),Tt("formGroup",r.emailFrm),Ct(2),Tt("ngIf",!(null!=r.name&&r.name.valid)&&(null==r.name?null:r.name.dirty)||(null==r.name?null:r.name.touched)),Ct(2),Tt("ngIf",!(null!=r.email&&r.email.valid)&&(null==r.email?null:r.email.dirty)||(null==r.email?null:r.email.touched)),Ct(1),Tt("disabled",!r.emailFrm.valid))},directives:[SC,gC,dp,dc,pC,NC,py],styles:[""]}),t})(),nse=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ki({type:t,selectors:[["lib-home"]],decls:2,vars:0,template:function(n,r){1&n&&(ge(0,"p"),rt(1,"home works!"),Ee())},styles:[""]}),t})();function rse(t,e){1&t&&(ge(0,"div"),rt(1,"Name is required"),Ee())}function ise(t,e){1&t&&(ge(0,"div"),rt(1,"Enter is avlid name"),Ee())}function sse(t,e){if(1&t&&(ge(0,"small",9),Tn(1,rse,2,0,"div",10),Tn(2,ise,2,0,"div",10),Ee()),2&t){Iu();const n=ns(5);Ct(1),Tt("ngIf",null==n.errors?null:n.errors.required),Ct(1),Tt("ngIf",null==n.errors?null:n.errors.pattern)}}function ose(t,e){1&t&&(ge(0,"div"),rt(1,"Email is required"),Ee())}function ase(t,e){1&t&&(ge(0,"div"),rt(1,"Enter is avlid email address"),Ee())}function use(t,e){if(1&t&&(ge(0,"small",11),Tn(1,ose,2,0,"div",10),Tn(2,ase,2,0,"div",10),Ee()),2&t){Iu();const n=ns(8);Ct(1),Tt("ngIf",null==n.errors?null:n.errors.required),Ct(1),Tt("ngIf",null==n.errors?null:n.errors.pattern)}}const lse=[{path:"",component:nse},{path:"Email",component:(()=>{class t{constructor(){this.email="majed01234567@gmail.com"}onSubmitForm(n){console.log(n)}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ki({type:t,selectors:[["lib-newsletter"]],decls:12,vars:3,consts:[["novalidate","",3,"ngSubmit"],["emailForm","ngForm"],["type","text","name","name","ngModel","","required","","pattern","[A-Za-z ]{4,20}",1,"d-block"],["name","ngModel"],["class","mb-3 text-danger d-block",4,"ngIf"],["type","text","name","email","ngModel","","required","","pattern","[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}",1,"mt-2"],["email","ngModel"],["class","text-danger d-block",4,"ngIf"],["type","submit",3,"disabled"],[1,"mb-3","text-danger","d-block"],[4,"ngIf"],[1,"text-danger","d-block"]],template:function(n,r){if(1&n){const i=function vS(){return I()}();ge(0,"p"),rt(1,"newsletter works!"),Ee(),ge(2,"form",0,1),Jt("ngSubmit",function(){!function NT(t){return q.lFrame.contextLView=t,t[8]}(i);const o=ns(3);return r.onSubmitForm(o)}),Hr(4,"input",2,3),Tn(6,sse,3,2,"small",4),Hr(7,"input",5,6),Tn(9,use,3,2,"small",7),ge(10,"button",8),rt(11,"Submit"),Ee()()}if(2&n){const i=ns(3),s=ns(5),o=ns(8);Ct(6),Tt("ngIf",!s.valid&&s.dirty||s.touched),Ct(3),Tt("ngIf",!o.valid&&o.dirty||o.touched),Ct(1),Tt("disabled",!i.valid)}},directives:[SC,gC,cp,dc,pC,AC,hp,OC,py],styles:[""]}),t})()},{path:"EmailReactive",component:tse}];let cse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=un({imports:[[OV.forRoot(lse)],OV]}),t})(),dse=(()=>{class t{constructor(n){this.firestore=n}getAll(){const n=ZF(this.firestore,"books");return Mte(n,{idField:"id"})}create(n){return hte(ZF(this.firestore,"books"),n)}}return t.\u0275fac=function(n){return new(n||t)(F(Of))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hse=(()=>{class t{constructor(n){this.booksservise=n,this.title="Library",this.books=[]}ngOnInit(){this.booksservise.getAll().subscribe(n=>this.books=n)}addBooks(){var n=this;return m(function*(){const r=yield n.booksservise.create({title:"test",author:"majed ahmed",pages:100,editon:2});console.log(r)})()}}return t.\u0275fac=function(n){return new(n||t)(b(dse))},t.\u0275cmp=Ki({type:t,selectors:[["lib-app"]],decls:22,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLinkActive","active","routerLink","",1,"nav-link"],["aria-current","page","routerLinkActive","active","routerLink","Email",1,"nav-link"],["aria-current","page","routerLinkActive","active","routerLink","EmailReactive",1,"nav-link"],["aria-current","page","routerLinkActive","active","routerLink","contact",1,"nav-link"]],template:function(n,r){1&n&&(ge(0,"nav",0)(1,"div",1)(2,"a",2),rt(3),Ee(),ge(4,"button",3),Hr(5,"span",4),Ee(),ge(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),rt(10,"Home"),Ee()(),ge(11,"li",7)(12,"a",9),rt(13,"NewsLatter"),Ee()(),ge(14,"li",7)(15,"a",10),rt(16,"Email Reactive"),Ee()(),ge(17,"li",7)(18,"a",11),rt(19,"Contact"),Ee()()()()()(),ge(20,"div"),Hr(21,"router-outlet"),Ee()),2&n&&(Ct(3),pd(" ",r.title," "))},directives:[Xf,MV,rC],styles:[""]}),t})();const BU_firebase={apiKey:"AIzaSyBbs5u1n3fRK3Fsl5Q-_ZgRMHWXg--YzJo",authDomain:"app-library-bbd32.firebaseapp.com",projectId:"app-library-bbd32",storageBucket:"app-library-bbd32.appspot.com",messagingSenderId:"445889267882",appId:"1:445889267882:web:cc106cb138ae6d710fe8d3"};let fse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t,bootstrap:[hse]}),t.\u0275inj=un({providers:[],imports:[[T5(()=>A5(BU_firebase)),xte(()=>kte()),X8,cse,zie,Kie]]}),t})();(function Rz(){VM=!1})(),Y8().bootstrapModule(fse).catch(t=>console.error(t))}},ie=>{ie(ie.s=923)}]);